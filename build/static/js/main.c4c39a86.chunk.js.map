{"version":3,"sources":["service.js","containers/login.js","utils.js","containers/signup.js","components/Navbar/NavbarElements.js","Assets/logo.jpg","components/Navbar/index.js","components/Form/FormSignup.js","components/Form/FormSuccess.js","Assets/image4.jpg","components/Form/Form.js","containers/home.js","containers/projects.js","containers/edit.js","containers/feed.js","components/ModalForm.js","components/ModalFilterForm.js","containers/draw.js","containers/editProject.js","components/Form/editForm.js","containers/editHome.js","App.js","reportWebVitals.js","index.js"],"names":["BASE_URL","signup","payload","requestOptions","method","body","JSON","stringify","fetch","then","response","json","data","login","addProject","getProjects","getImage","useStyles","makeStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","Login","useState","email","setEmail","password","setPassword","history","useHistory","classes","loginUser","e","a","preventDefault","error","trim","length","console","log","toast","result","localStorage","setItem","push","Grid","container","component","className","CssBaseline","item","xs","sm","md","Paper","elevation","square","Avatar","Typography","variant","noValidate","onSubmit","TextField","required","fullWidth","id","label","name","autoComplete","autoFocus","onChange","target","value","FormControlLabel","control","Checkbox","color","Button","onClick","style","marginLeft","clientId","buttonText","onSuccess","profileObj","onFailure","cookiePolicy","Link","href","isValidEmail","RegExp","test","SignUp","setName","confirm_password","setConfirm_password","signupUser","Nav","styled","nav","NavLink","Bars","FaBars","NavMenu","div","NavBtn","Navbar","to","src","Logo","alt","textDecoration","activeStyle","Fab","size","getItem","removeItem","FormSignup","description","setDescription","currentworktypes","setCurrentworktypes","currentContractors","setCurrentContractors","currentUser","setCurrentUser","worktypes","setWorktypes","contractors","setContractors","users","setUsers","handleSubmit","action","notification","deleteItem","index","indexOf","splice","AddWork","overflowY","overflowX","placeholder","rows","cols","map","work","left","position","bottom","con","usr","FormSuccess","Form","isSubmitted","setIsSubmitted","Image_1","submitForm","home","props","Projects","projects","setProjects","deleteProject","success","fetchData","arr","user","data_user","useEffect","proj","title","extra","marginRight","fontSize","fontWeight","_id","right","aria-label","Edit","upload","setUpload","setImage","images","setImages","show","setShow","useParams","data_image","editImage","CADid","img","pathname","state","detail","FormData","append","accept","withPreview","withLabel","withIcon","singleImage","event","handleChange","imgExtension","maxFileSize","content","clear","float","paddign","Img","cursor","Body","Feed","feed","setFeeds","f","ModalForm","formControl","minWidth","selectEmpty","worktype","setWorktype","contractor","setContractor","Date","currentvalue","setCurrentvalue","project_id","element","Modal","open","onHide","handleClose","animation","ModalHeader","closeButton","doc","jsPDF","setFontSize","text","addImage","output","save","ModalTitle","ModalBody","FormControl","InputLabel","Select","labelId","MenuItem","ModalFooter","ModalFilterForm","x1","y1","x2","y2","filteredCAD","passValue","Draw","drawing","setDrawing","elements","setElements","undo","redo","selectedElement","setSelectedElement","setOpen","location","setImg","tool","setTool","filteropen","setFilteropen","setWork","setCon","visible","setVisible","ref","createRef","useScreenshot","takeScreenshot","getImageScreen","current","generator","rough","undoRedoFunction","metaKey","ctrlKey","key","shiftKey","document","addEventListener","removeEventListener","useLayoutEffect","canvas","getElementById","ctx","getContext","fillStyle","clearRect","roughCanvas","forEach","roughElement","draw","createElement","rectangle","roughness","fill","updateElement","updatedElement","elementsCopy","nearPoint","x","y","Math","abs","isWithinElement","topLeft","topRight","bottomLeft","bottomRight","getElementAtPosition","find","handleMouseUp","minX","min","maxX","max","adjustCordinate","viewAll","prevState","window","innerWidth","innerHeight","onMouseDown","clientX","clientY","offsetX","offsetY","array","findIndex","handleMouseDown","onMouseMove","cursorForPosition","nextX","nextY","coordinates","resizedCoordinates","handleMouseMove","onMouseUp","onMouseLeave","checked","htmlFor","backdrop","EditProject","EditForm","EditHome","App","exact","path","Home","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.c4c39a86.chunk.js","sourcesContent":["const BASE_URL = process.env.NODE_ENV === \"development\" ? \"http://localhost:8000\" : \"http://35.222.122.87\"\r\n\r\nexport const signup = (payload) => {\r\n    var requestOptions = {\r\n        method: 'POST',\r\n        body: JSON.stringify(payload)\r\n    };\r\n\r\n    return fetch(BASE_URL + \"/user/\", requestOptions)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            return data\r\n        })\r\n}\r\n\r\nexport const login = (payload) => {\r\n    var requestOptions = {\r\n        method: 'POST',\r\n        body: JSON.stringify(payload)\r\n    };\r\n\r\n    return fetch(BASE_URL + \"/user/\", requestOptions)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            return data\r\n        })\r\n}\r\n\r\nexport const addProject = (payload) => {\r\n    var requestOptions = {\r\n        method: 'POST',\r\n        body: JSON.stringify(payload)\r\n    };\r\n\r\n    return fetch(BASE_URL + \"/project/\", requestOptions)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            return data\r\n        })\r\n}\r\n\r\nexport const addImage = (payload) => {\r\n    var requestOptions = {\r\n        method: 'PUT',\r\n        body: payload\r\n    };\r\n\r\n    return fetch(BASE_URL + \"/project/\", requestOptions)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            return data\r\n        })\r\n}\r\n\r\nexport const getProjects = (payload) => {\r\n    var requestOptions = {\r\n        method: 'POST',\r\n        body: JSON.stringify(payload)\r\n    };\r\n\r\n    return fetch(BASE_URL + \"/project/\", requestOptions)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            return data\r\n        })\r\n}\r\n\r\nexport const getImage = (payload) => {\r\n    var requestOptions = {\r\n        method: 'POST',\r\n        body: JSON.stringify(payload)\r\n    };\r\n\r\n    return fetch(BASE_URL + \"/project/\", requestOptions)\r\n        .then(response => response.json())\r\n        .then(data => {\r\n            return data\r\n        })\r\n}\r\n","import React, { useState, useContext, useEffect } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Link from '@material-ui/core/Link'\r\nimport { login } from '../service'\r\nimport ReactNotification from 'react-notifications-component'\r\nimport 'react-notifications-component/dist/theme.css'\r\nimport { store } from 'react-notifications-component';\r\nimport 'animate.css'\r\nimport { GoogleLogin } from 'react-google-login';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        height: '100vh',\r\n    },\r\n    image: {\r\n        backgroundImage: 'url(https://wallup.net/wp-content/uploads/2019/09/135850-3d-architecture-pc-cad.jpg)',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundColor:\r\n            theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n    },\r\n    paper: {\r\n        margin: theme.spacing(8, 4),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%', // Fix IE 11 issue.\r\n        marginTop: theme.spacing(1),\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n    },\r\n}));\r\n\r\nexport default function Login() {\r\n\r\n    const [email, setEmail] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const history = useHistory();\r\n    const classes = useStyles();\r\n\r\n    const responseGoogle = (response) => {\r\n        console.log(response.profileObj.email)\r\n        localStorage.setItem('email',response.profileObj.email)\r\n        history.push(\"/home\");\r\n    }\r\n\r\n    const responseFailure = (response) => {\r\n        console.log(response)\r\n    }\r\n\r\n    const loginUser = async (e) => {\r\n        e.preventDefault()\r\n        let error = \"\"\r\n        try {\r\n            if (!email.trim().length) {\r\n                error += \"Please enter an email \"\r\n            }\r\n            if (!password.trim().length) {\r\n                error += \"Please enter a password !\"\r\n            }\r\n            if (error !== \"\") {\r\n                console.log(error)\r\n                toast.error('Please fill in all fields')\r\n            }\r\n            else {\r\n                const data = await login({ email, password })\r\n                if (data.result === \"Wrong Password\") {\r\n                    toast.error('wrong password entered')\r\n                }\r\n                else if (data.result === \"No such email exists\") {\r\n                    toast.error('No such email exists')\r\n                }\r\n                else {\r\n                    localStorage.setItem('email', email)\r\n                    history.push(\"/home\");\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.log(e)\r\n            toast.error('An error Occurred')\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Grid container component=\"main\" className={classes.root}>\r\n            <CssBaseline />\r\n            <ToastContainer />\r\n            <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n            <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n                <div className={classes.paper}>\r\n                    <Avatar className={classes.avatar}>\r\n                        <LockOutlinedIcon />\r\n                    </Avatar>\r\n                    <Typography component=\"h1\" variant=\"h5\">\r\n                        Sign in\r\n          </Typography>\r\n                    <form className={classes.form} noValidate onSubmit={loginUser}>\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            id=\"email\"\r\n                            label=\"Email Address\"\r\n                            name=\"email\"\r\n                            autoComplete=\"email\"\r\n                            autoFocus\r\n                            onChange={(e) => setEmail(e.target.value)}\r\n                        />\r\n                        <TextField\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            required\r\n                            fullWidth\r\n                            name=\"password\"\r\n                            label=\"Password\"\r\n                            type=\"password\"\r\n                            id=\"password\"\r\n                            autoComplete=\"current-password\"\r\n                            onChange={(e) => setPassword(e.target.value)}\r\n                        />\r\n                        <FormControlLabel\r\n                            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n                            label=\"Remember me\"\r\n                        />\r\n                        <Button\r\n                            type=\"submit\"\r\n                            fullWidth\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            onClick={loginUser}\r\n                            className={classes.submit}\r\n                        >\r\n                            Sign In\r\n                        </Button>\r\n                        <div style={{\r\n                            marginLeft: 220\r\n                        }}>\r\n                            <GoogleLogin\r\n\r\n                                clientId=\"997321405617-nv43b35u845suv0epb4fkqrfu2jm86rd.apps.googleusercontent.com\"\r\n                                buttonText=\"Login With Google\"\r\n                                onSuccess={responseGoogle}\r\n                                onFailure={responseFailure}\r\n                                cookiePolicy={'single_host_origin'}\r\n                            />\r\n                        </div>\r\n                        <Grid item>\r\n                            <Link href=\"/signup\" variant=\"body2\">\r\n                                {\"Don't have an account? Sign Up\"}\r\n                            </Link>\r\n                        </Grid>\r\n                    </form>\r\n                </div>\r\n            </Grid>\r\n            <ReactNotification />\r\n        </Grid>\r\n    );\r\n}","export function isValidEmail(email) {\r\n    var pattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\r\n    if (!pattern.test(email)) {\r\n        return false\r\n    }\r\n    else {\r\n        return true\r\n    }\r\n}","import React, { useState, useEffect, useContext } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { signup } from '../service'\r\nimport { isValidEmail } from '../utils'\r\nimport Notifications from '../components/notification'\r\nimport { Link } from 'react-router-dom'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport ReactNotification from 'react-notifications-component'\r\nimport 'react-notifications-component/dist/theme.css'\r\nimport { store } from 'react-notifications-component';\r\nimport 'animate.css'\r\n\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    height: '100vh',\r\n  },\r\n  image: {\r\n    backgroundImage: 'url(https://cdn.allwallpaper.in/wallpapers/1920x1200/4630/architecture-schematic-1920x1200-wallpaper.jpg)',\r\n    backgroundRepeat: 'no-repeat',\r\n    backgroundColor:\r\n      theme.palette.type === 'light' ? theme.palette.grey[50] : theme.palette.grey[900],\r\n    backgroundSize: 'cover',\r\n    backgroundPosition: 'center',\r\n  },\r\n  paper: {\r\n    margin: theme.spacing(8, 4),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function SignUp() {\r\n  const [name, setName] = useState('')\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [confirm_password, setConfirm_password] = useState('')\r\n  \r\n  const history = useHistory()\r\n\r\n  const signupUser = async (e) => {\r\n    let error = \"\"\r\n    e.preventDefault()\r\n    try {\r\n      if (!name.trim().length) {\r\n        error += \"Please enter a username ! \\n\"\r\n      }\r\n      if (!email.trim().length) {\r\n        error += \"Please enter an Email ID ! \\n\"\r\n      }\r\n      if (!password.trim().length) {\r\n        error += \"Please enter a password ! \\n\"\r\n      }\r\n      if (!isValidEmail(email)) {\r\n        error += \"Please enter a valid email ID ! \\n\"\r\n      }\r\n      if (password !== confirm_password) {\r\n        error += \"Please enter matching passwords ! \\n\"\r\n      }\r\n      if (error !== \"\") {\r\n        toast.error(\"Please Fill In All Fields\")   \r\n      }\r\n      else {\r\n        const data = await signup({ name, email, password })\r\n        console.log(data)\r\n        if (data['result'] == \"failure\"){\r\n            toast.error('Email Already Exists')\r\n        }\r\n        else{\r\n            history.push('/login')\r\n        }\r\n        \r\n      }\r\n    } catch (e) {\r\n      console.log(e)\r\n      toast.error(\"An Error Occurred\")\r\n    }\r\n    \r\n\r\n  }\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid container component=\"main\" className={classes.root}>\r\n      <CssBaseline />\r\n      <ToastContainer />\r\n      <Grid item xs={false} sm={4} md={7} className={classes.image} />\r\n      <Grid item xs={12} sm={8} md={5} component={Paper} elevation={6} square>\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign Up\r\n          </Typography>\r\n          <form className={classes.form} noValidate onSubmit={signupUser}>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"name\"\r\n              label=\"Username\"\r\n              name=\"name\"\r\n              autoComplete=\"name\"\r\n              autoFocus\r\n              onChange={(e) => setName(e.target.value)}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              id=\"email\"\r\n              label=\"Email Address\"\r\n              name=\"email\"\r\n              autoComplete=\"email\"\r\n              autoFocus\r\n              onChange={(e) => setEmail(e.target.value)}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"password\"\r\n              label=\"Password\"\r\n              type=\"password\"\r\n              id=\"password\"\r\n              autoComplete=\"current-password\"\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n            <TextField\r\n              variant=\"outlined\"\r\n              margin=\"normal\"\r\n              required\r\n              fullWidth\r\n              name=\"confirm\"\r\n              label=\"Confirm Password\"\r\n              type=\"password\"\r\n              id=\"confirm\"\r\n              autoComplete=\"confirm-current-password\"\r\n              onChange={(e) => setConfirm_password(e.target.value)}\r\n            />\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={signupUser}\r\n              className={classes.submit}\r\n            >\r\n\r\n              Sign Up\r\n            </Button>\r\n          </form>\r\n          <Grid item>\r\n            <a href=\"/login\" variant=\"body2\">\r\n              {\"Have an account? Login\"}\r\n            </a>\r\n          </Grid>\r\n        </div>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}","import { FaBars } from 'react-icons/fa';\r\nimport { NavLink as Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nexport const Nav = styled.nav`\r\n  background: #000;\r\n  height: 160px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 0.5rem calc((100vw - 1000px) / 2);\r\n  z-index: 10;\r\n  /* Third Nav */\r\n  /* justify-content: flex-start; */\r\n`;\r\n\r\nexport const NavLink = styled(Link)`\r\n  color: #fff;\r\n  display: flex;\r\n  font-size: 20px;\r\n  align-items: center;\r\n  text-decoration: none;\r\n  padding: 0 1rem;\r\n  height: 100%;\r\n  cursor: pointer;\r\n  &.active {\r\n    color: #15cdfc;\r\n  }\r\n`;\r\n\r\nexport const Bars = styled(FaBars)`\r\n  display: none;\r\n  color: #fff;\r\n  @media screen and (max-width: 768px) {\r\n    display: block;\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    transform: translate(-100%, 75%);\r\n    font-size: 1.8rem;\r\n    cursor: pointer;\r\n  }\r\n`;\r\n\r\nexport const NavMenu = styled.div`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-right: -24px;\r\n  /* Second Nav */\r\n  /* margin-right: 24px; */\r\n  /* Third Nav */\r\n  /* width: 100vw;\r\n  white-space: nowrap; */\r\n  @media screen and (max-width: 768px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const NavBtn = styled.nav`\r\n  display: flex;\r\n  align-items: center;\r\n  margin-right: 24px;\r\n  /* Third Nav */\r\n  /* justify-content: flex-end;\r\n  width: 100vw; */\r\n  @media screen and (max-width: 768px) {\r\n    display: none;\r\n  }\r\n`;\r\n\r\nexport const NavBtnLink = styled(Link)`\r\n  border-radius: 4px;\r\n  background: #256ce1;\r\n  padding: 10px 22px;\r\n  color: #fff;\r\n  outline: none;\r\n  border: none;\r\n  cursor: pointer;\r\n  transition: all 0.2s ease-in-out;\r\n  text-decoration: none;\r\n  /* Second Nav */\r\n  margin-left: 24px;\r\n  &:hover {\r\n    transition: all 0.2s ease-in-out;\r\n    background: #fff;\r\n    color: #010606;\r\n  }\r\n`;","export default __webpack_public_path__ + \"static/media/logo.58667de1.jpg\";","import React from 'react';\r\nimport {\r\n  Nav,\r\n  NavLink,\r\n  Bars,\r\n  NavMenu,\r\n  NavBtn,\r\n  NavBtnLink\r\n} from './NavbarElements';\r\nimport Fab from '@material-ui/core/Fab'\r\nimport Logo from '../../Assets/logo.jpg'\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n\r\n  const history = useHistory();\r\n  \r\n  const logout = () => {\r\n    if (localStorage.getItem('email')) {\r\n      localStorage.removeItem('email')\r\n      history.push('/login')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Nav>\r\n        <NavLink to='/#'>\r\n          <img src={Logo} width={350} height={160} style={{ marginLeft: -200 }} alt='logo' />\r\n        </NavLink>\r\n        <Bars />\r\n        <NavMenu>\r\n          <NavLink style={{\r\n            textDecoration : 'none'\r\n          }} to='/home' activeStyle>\r\n            Notification & Feeds\r\n          </NavLink>\r\n          <NavLink style={{\r\n            textDecoration : 'none'\r\n          }} to='/addProjects' activeStyle>\r\n            Add Project\r\n          </NavLink>\r\n          <NavLink style={{\r\n            textDecoration : 'none'\r\n          }} to='/project' activeStyle>\r\n            View Projects\r\n          </NavLink>\r\n        </NavMenu>\r\n        <NavBtn>\r\n          <Fab color={'primary'} size={'large'} variant={'extended'} onClick={logout}>Logout</Fab>\r\n        </NavBtn>\r\n      </Nav>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Navbar;","import React, { useState } from 'react';\r\nimport './Form.css';\r\nimport Button from 'react-bootstrap/Button'\r\nimport { addProject } from '../../service'\r\nimport ReactNotification from 'react-notifications-component'\r\nimport 'react-notifications-component/dist/theme.css'\r\nimport { store } from 'react-notifications-component';\r\nimport 'animate.css'\r\nimport {useHistory} from 'react-router-dom'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function FormSignup() {\r\n\r\n  const [name, setName] = useState('')\r\n  const [description, setDescription] = useState('')\r\n  const [currentworktypes, setCurrentworktypes] = useState('')\r\n  const [currentContractors, setCurrentContractors] = useState('')\r\n  const [currentUser, setCurrentUser] = useState('')\r\n  const [worktypes, setWorktypes] = useState([])\r\n  const [contractors, setContractors] = useState([])\r\n  const [users, setUsers] = useState([])\r\n\r\n  const history = useHistory()\r\n  const email = localStorage.getItem('email')\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    try{\r\n      if (!name.trim().length || !description.trim().length || worktypes.length === 0 || contractors.length === 0 || users.length === 0) {\r\n        toast.error('Please fill in all fields')\r\n      }\r\n      else {\r\n        const data = await addProject({ email, name, description, worktypes, contractors, users, action: \"Add\" })\r\n        if (data.result === \"failure\") {\r\n          toast.error('An error occurred !')\r\n        }\r\n        else{\r\n          const notify = await addProject({ email, notification: `Project Added : Name ${name}` ,action: \"NOTIFICATION\" })\r\n          if(notify.result === \"success\"){\r\n            history.push('/project')\r\n          }\r\n          else{\r\n            toast.error('An error occurred !')\r\n          }\r\n         \r\n        }\r\n      } \r\n    }\r\n    catch(e){\r\n      console.log(e)\r\n      \r\n    }\r\n  }\r\n\r\n  const deleteItem = (item,type) => {\r\n    if(type==\"work\"){\r\n      const index = worktypes.indexOf(item);\r\n      worktypes.splice(index, 1);\r\n      setWorktypes([...worktypes])\r\n      \r\n    }\r\n    else if(type == \"contractor\"){\r\n      const index = contractors.indexOf(item);\r\n      contractors.splice(index, 1);\r\n      setContractors([...contractors])\r\n    }\r\n    else{\r\n      const index = users.indexOf(item);\r\n      users.splice(index, 1);\r\n      setUsers([...users])\r\n    }\r\n  }\r\n\r\n  const AddWork = (currentworktypes, type) => {\r\n    if (type === \"work\") {\r\n      worktypes.push(currentworktypes)\r\n      setWorktypes([...worktypes])\r\n    }\r\n    else if (type === \"contract\") {\r\n      contractors.push(currentworktypes)\r\n      setContractors([...contractors])\r\n    }\r\n    else if (type === \"user\") {\r\n      users.push(currentworktypes)\r\n      setUsers([...users])\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className='form-content-right' style={{overflowY:'scroll', overflowX:'scroll'}}>\r\n      <ToastContainer />\r\n      <form onSubmit={handleSubmit} className='form' noValidate>\r\n        <div className='form-inputs'>\r\n          <label className='form-label'>Name</label>\r\n          <input\r\n            className='form-input'\r\n            type='text'\r\n            name='name'\r\n            placeholder='Enter Project Name'\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className='form-inputs'>\r\n          <label className='form-label'>Description</label>\r\n          <textarea\r\n            className='form-input'\r\n            rows={6}\r\n            cols={10}\r\n            placeholder='Enter Project Description'\r\n            value={description}\r\n            onChange={(e) => setDescription(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className='form-inputs'>\r\n          <label className='form-label'>Worktypes</label>\r\n          <input\r\n            className='form-input'\r\n            type='text'\r\n            name='Worktypes'\r\n            placeholder='Add Project Worktypes'\r\n            value={currentworktypes}\r\n            onChange={(e) => setCurrentworktypes(e.target.value)}\r\n          />\r\n          \r\n          {worktypes.length > 0 ? worktypes.map(work => (\r\n            <Fab color={'primary'} size={'small'} variant={'extended'}>{work} <DeleteIcon onClick={() => deleteItem(work, \"work\")} /></Fab>\r\n          )) : ''}\r\n          <div style={{left: 520,\r\n            position: 'absolute',\r\n            bottom: 300}}>\r\n          <Button style={{\r\n            backgroundColor: \"thistle\",\r\n            width: 70,\r\n            height: 30,\r\n\r\n          }} variant={'primary'} onClick={() => AddWork(currentworktypes, \"work\")}> Add </Button>\r\n          </div>\r\n        </div>\r\n        <div className='form-inputs'>\r\n          <label className='form-label'>Contracters</label>\r\n          <input\r\n            className='form-input'\r\n            type='text'\r\n            name='contractors'\r\n            placeholder='Add Project Contractos'\r\n            onChange={(e) => setCurrentContractors(e.target.value)}\r\n          />\r\n          {contractors.length > 0 ? contractors.map(con => (\r\n            <Fab color={'primary'} size={'small'} variant={'extended'}>{con} <DeleteIcon onClick={() => deleteItem(con, \"contractor\")} /></Fab>\r\n          )) : ''}\r\n          <Button style={{\r\n            backgroundColor: \"thistle\",\r\n            width: 70,\r\n            height: 30,\r\n            left: 520,\r\n            position: 'absolute',\r\n            bottom: 220\r\n          }} variant={'primary'} onClick={() => AddWork(currentContractors, \"contract\")}> Add </Button>\r\n        </div>\r\n        <div className='form-inputs'>\r\n          <label className='form-label'>Users</label>\r\n          <input\r\n            className='form-input'\r\n            type='text'\r\n            name='users'\r\n            placeholder='Add Project Users'\r\n            onChange={(e) => setCurrentUser(e.target.value)}\r\n          />\r\n          {users.length > 0 ? users.map(usr => (\r\n            <Fab color={'primary'} size={'small'} variant={'extended'}>{usr} <DeleteIcon onClick={() => deleteItem(usr, \"user\")} /></Fab>\r\n          )) : ''}\r\n          <Button style={{\r\n            backgroundColor: \"thistle\",\r\n            width: 70,\r\n            height: 30,\r\n            left:520,\r\n            position: 'absolute',\r\n            bottom: 140\r\n          }} variant={'primary'} onClick={() => AddWork(currentUser, \"user\")}> Add </Button>\r\n        </div>\r\n\r\n        <button className='form-input-btn' type='submit'>\r\n          Add Project\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport './Form.css';\r\n\r\nconst FormSuccess = () => {\r\n  return (\r\n    <div className='form-content-right'>\r\n      <h1 className='form-success'>We have received your request!</h1>\r\n      <img className='form-img-2' src='img/img-3.svg' alt='success-image' />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FormSuccess;\r\n","export default __webpack_public_path__ + \"static/media/image4.e506e61f.jpg\";","import React, { useState } from 'react';\r\nimport './Form.css';\r\nimport FormSignup from './FormSignup';\r\nimport FormSuccess from './FormSuccess';\r\nimport Image_1 from '../../Assets/image4.jpg'\r\nconst Form = () => {\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n\r\n  function submitForm() {\r\n    setIsSubmitted(true);\r\n  }\r\n  return (\r\n    <>\r\n      <div className='form-container'>\r\n        <div className='form-content-left'>\r\n          <img className='form-img' src={Image_1} alt='CAD' />\r\n        </div>\r\n        {!isSubmitted ? (\r\n          <FormSignup  submitForm={submitForm} />\r\n        ) : (\r\n          <FormSuccess />\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React from 'react';\r\nimport Navbar from '../components/Navbar'\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport Form from '../components/Form/Form'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport AddIcon from '@material-ui/icons/Add';\r\nfunction home(props) {\r\n    return (\r\n        <div>\r\n            <Navbar />\r\n            {/* <Carousel autoFocus={true} autoPlay={true} } emulateTouch={true} infiniteLoop={true} >\r\n                <div>\r\n                    <img src={Image_1} />\r\n                    <p className=\"legend\">Electrical Engineering and Electronics.</p>\r\n                </div>\r\n                <div>\r\n                    <img src={Image_2} />\r\n                    <p className=\"legend\">Engineering - Architectural.</p>\r\n                </div>\r\n                <div>\r\n                    <img src={Image_3} />\r\n                    <p className=\"legend\">Industrial Engineering.</p>\r\n                </div>\r\n                <div>\r\n                    <img src={Image_4} />\r\n                    <p className=\"legend\">Manufacturing Engineering.</p>\r\n                </div>\r\n                <div>\r\n                    <img src={Image_5} />\r\n                    <p className=\"legend\">Mechanical Engineering</p>\r\n                </div>\r\n            </Carousel> */}\r\n            <Form />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default home;","import React, { useContext, useEffect, useState } from 'react';\r\nimport { getProjects } from '../service'\r\nimport Navbar from '../components/Navbar'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { useHistory } from 'react-router-dom'\r\nimport 'antd/dist/antd.css';\r\nimport { Card } from 'antd';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction Projects(props) {\r\n\r\n    const [projects, setProjects] = useState([])\r\n    const email = localStorage.getItem('email')\r\n\r\n    const history = useHistory()\r\n\r\n    const AddProjects = () => {\r\n        history.push('/addProjects')\r\n    }\r\n\r\n    const deleteProject = async(id, name) => {\r\n        const data = await getProjects({ id, action: \"DELETE_PROJECT\" });\r\n        if(data['result'] === \"success\"){\r\n            toast.success(`Successfully Deleted Project :  ${id}`)\r\n            fetchData()\r\n            const notify = await getProjects({ email, notification: `Deleted Project : Project ${name}` ,action: \"NOTIFICATION\" })\r\n        }\r\n        else{\r\n            toast.error(\"An error occurred while deleting. Please try again \")\r\n        }\r\n        \r\n    }\r\n\r\n    const fetchData = async () => {\r\n        let arr = []\r\n        try {\r\n            const data = await getProjects({ email, action: \"GET\" });\r\n            if(data['result'] !== \"Failure\"){\r\n                for (let index = 0; index < data['result'].length; index++) {\r\n                    arr.push(data['result'][index])    \r\n                }\r\n\r\n            }\r\n            const data_user = await getProjects({user:email, action: \"GET_BY_USER\"})\r\n            if(data_user['result'] != \"Failure\"){\r\n                for (let index = 0; index < data_user['result'].length; index++) {\r\n                    arr.push(data_user['result'][index])    \r\n                }\r\n                // setProjects(data_user['result'])\r\n            }\r\n            setProjects(arr)\r\n        } catch (e) {\r\n            console.log(e)\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {   \r\n        fetchData()\r\n    },[])\r\n    \r\n    return (\r\n        <div>\r\n            <Navbar />\r\n            <ToastContainer />\r\n            {projects.map((proj, index) => (\r\n                <Card\r\n                    key={index}\r\n                    style={{ margin: 25, width: '80%'}}\r\n                    type=\"inner\"\r\n                    title={proj.name}\r\n                    extra={<div><a style={{color:'green', marginRight:'20px', fontSize:18, fontWeight: 'bold', textDecoration:'none'}} href={`/editProject/${proj._id}`}>Edit Project </a><a style={{marginRight:'20px', fontSize:18, fontWeight: 'bold', textDecoration:'none'}} href={`/edit/${proj._id}`}>Edit</a><a style={{color:'red', marginLeft:'20px', fontSize:18, fontWeight: 'bold', textDecoration:'none'}} onClick={() => deleteProject(proj._id, proj.name)}>Delete</a></div>}\r\n                >\r\n                    \r\n\r\n                    {/* Description : {proj.description}\r\n                    {proj.worktypes.map((work) => (\r\n                        <li> Worktype : {work} </li>\r\n                    ))}\r\n                    {proj.contractors.map((con) => (\r\n                        <li> Contractor : {con} </li>\r\n                    ))}\r\n                    {proj.users.map((usr) => (\r\n                        <li> User : {usr}</li>\r\n                    ))} */}\r\n                </Card>\r\n            ))}\r\n            <Fab style={{ position: 'fixed', right: '2%' }} onClick={AddProjects} color=\"primary\" aria-label=\"add\"><AddIcon /></Fab>\r\n        </div >\r\n    );\r\n}\r\n\r\nexport default Projects;","import React, { useState, useEffect } from 'react';\r\nimport Navbar from '../components/Navbar'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { useHistory } from 'react-router-dom'\r\nimport { addProject, getProjects, addImage, getImage } from '../service'\r\nimport Projects from './projects';\r\nimport { useParams } from 'react-router-dom'\r\nimport 'antd/dist/antd.css';\r\nimport { Card } from 'antd';\r\nimport PublishIcon from '@material-ui/icons/Publish';\r\nimport ImageUploader from 'react-images-upload';\r\nimport imageToBase64 from 'image-to-base64'\r\nimport '../App.css'\r\nimport BootstrapCard from 'react-bootstrap/Card'\r\nimport ReactNotification from 'react-notifications-component'\r\nimport 'react-notifications-component/dist/theme.css'\r\nimport { store } from 'react-notifications-component';\r\nimport 'animate.css'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nexport default function Edit(props) {\r\n\r\n    const history = useHistory()\r\n    const [projects, setProjects] = useState([])\r\n    const [text, setText] = useState()\r\n    const [upload, setUpload] = useState(false)\r\n    const [image, setImage] = useState()\r\n    const [images, setImages] = useState([])\r\n    const [show, setShow] = useState(false)\r\n\r\n    const email = localStorage.getItem('email')\r\n    const id = useParams('id')['id']\r\n\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            const data = await getProjects({ id, action: \"GET_BY_ID\" })\r\n            console.log(data['result'])\r\n            setProjects([data['result']])\r\n            const data_image = await getImage({ id, action: \"GET_IMAGE_BY_ID\" })\r\n            if (data_image['result'] !== 'Failure') {\r\n                for (let index = 0; index < data_image['result'].length; index++) {\r\n                    if ('worktype' in data_image['result'][index] && 'contractor' in data_image['result'][index] && 'description' in data_image['result'][index]) {\r\n                        console.log(true)\r\n                        setShow(true)\r\n                    }\r\n                }\r\n\r\n                setImages(data_image['result'])\r\n            }\r\n\r\n        }\r\n        fetchData()\r\n    }, [images.length])\r\n\r\n    const editImage = (CADid, img) => {\r\n        history.push({\r\n            pathname: `/filterCAD/${CADid}/${id}`,\r\n            state: { detail: img }\r\n        })\r\n    }\r\n\r\n    const AddProjects = () => {\r\n        history.push('/addProjects')\r\n    }\r\n    const handleChange = (event) => {\r\n        setImage(event[0])\r\n        setUpload(true)\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        console.log(image)\r\n        const data = new FormData();\r\n        data.append('file', image, image.name);\r\n        data.append('name',image.name)\r\n        data.append('id', id)\r\n        data.append('type', image.type)\r\n        const res = await addImage(data)\r\n        if (res.result === \"success\") {\r\n            toast.success(\"CAD Uploaded. Please Refresh Page !\")\r\n            const notify = await getProjects({ email, notification: `Uploaded CAD : ${image.name}` ,action: \"NOTIFICATION\" })\r\n\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Navbar />\r\n            <ToastContainer />\r\n            {projects.map((proj) => {\r\n                return (\r\n                    <Card\r\n                        key={proj._id}\r\n                        style={{ margin: 20, width: '95%' }}\r\n                        type=\"inner\"\r\n                        extra={<div><ImageUploader\r\n                        accept={\"application/pdf, image/*\"}\r\n                            withPreview={true}\r\n                            withLabel={true}\r\n                            withIcon={true}\r\n                            buttonText='Select Image'\r\n                            singleImage={true}\r\n                            onChange={(event) => handleChange(event)}\r\n                            imgExtension={['.jpg', '.gif', '.png', '.jiff', '.dwg','.pdf']}\r\n                            maxFileSize={5242880}\r\n                        />{upload ? <Fab style={{ marginLeft: '60px' }} variant='extended' color='primary' size='large' onClick={handleSubmit} >Upload</Fab> : <></>}</div>}\r\n                    >\r\n\r\n                        {/* <b>Description</b> : {proj.description}\r\n                        {proj.worktypes.map((work) => (\r\n                            <li> <b>Worktype</b> : {work} </li>\r\n                        ))}\r\n                        {proj.contractors.map((con) => (\r\n                            <li> <b>Contractor</b> : {con} </li>\r\n                        ))}\r\n                        {proj.users.map((usr) => (\r\n                            <li> <b>User</b> : {usr}</li>\r\n                        ))} */}\r\n                    </Card>\r\n                )\r\n            })}\r\n            <div style={{ content: \"\", clear: 'both', display: 'table' }}>\r\n                {images.map((img, index) => (\r\n                    <div key={index} style={{ marginLeft: '40px', float: 'left', width: '30%', paddign: '50px', marginTop: '20px' }}>\r\n                        {show ? <BootstrapCard className=\"anime\" style={{ width: '400', height: '300' }}>\r\n                            <BootstrapCard.Img style={{ cursor: 'grabbing'}} onClick={() => editImage(img._id, img.image)} variant=\"top\" src={img['image']} />\r\n                            <BootstrapCard.Body>\r\n                                {/* <BootstrapCard.Text>\r\n                                    {img['worktype'] !== undefined ? img['worktype'].map((work) => (\r\n                                        <li> <b>Worktype</b> : {work} </li>\r\n                                    )) : null}\r\n                                    {img['contractor'] !== undefined ? img['contractor'].map((con) => (\r\n                                        <li> <b>Contractor</b> : {con} </li>\r\n                                    )) : null}\r\n                                </BootstrapCard.Text> */}\r\n                                <Fab size={\"medium\"} style={{\r\n                                    marginLeft:120\r\n                                }} variant=\"extended\" color=\"primary\" onClick={() => editImage(img._id, img.image)}> Open Drawing </Fab>\r\n                            </BootstrapCard.Body>\r\n                        </BootstrapCard> : <img src={img['image']} style={{ cursor: 'grabbing' }} width=\"400px\" height=\"300px\" onClick={() => editImage(img._id, img.image)} />}\r\n                    </div>\r\n                ))}\r\n            </div>\r\n            <Fab style={{ position: 'fixed', right: '2%' }} onClick={AddProjects} color=\"primary\" aria-label=\"add\"><AddIcon /></Fab>\r\n        </div>\r\n    );\r\n}\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport Navbar from '../components/Navbar'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport { useHistory } from 'react-router-dom'\r\nimport BootstrapCard from 'react-bootstrap/Card'\r\nimport { getProjects } from '../service'\r\n\r\nfunction Feed(props) {\r\n    const [feed, setFeeds] = useState([])\r\n    const email = localStorage.getItem('email')\r\n    const history = useHistory()\r\n\r\n    const AddProjects = () => {\r\n        history.push('/addProjects')\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try{\r\n                const data = await getProjects({ email, action: \"GET_NOTIFICATION\" })\r\n                if ('notifications' in data['result']){\r\n                    setFeeds(data['result']['notifications'])\r\n                }\r\n            }\r\n            catch(e){\r\n                console.log(e)\r\n            }\r\n           \r\n            \r\n            \r\n        }\r\n        fetchData()\r\n    }, [feed.length])\r\n\r\n    return (\r\n        <div>\r\n            <Navbar />\r\n            {feed.length > 0 ? feed.map((f) => (\r\n                <div style={{\r\n                    margin:20,\r\n                }}>\r\n                <BootstrapCard >\r\n                    <BootstrapCard.Body>{f}</BootstrapCard.Body>\r\n                </BootstrapCard>\r\n                </div>\r\n            )) : null}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Feed;","import React, { useEffect, useState } from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport ModalBody from \"react-bootstrap/ModalBody\";\r\nimport ModalHeader from \"react-bootstrap/ModalHeader\";\r\nimport ModalFooter from \"react-bootstrap/ModalFooter\";\r\nimport ModalTitle from \"react-bootstrap/ModalTitle\";\r\nimport { getProjects, getImage } from '../service'\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Calendar from 'react-calendar';\r\nimport { useParams } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Fab from '@material-ui/core/Fab'\r\nimport ReactNotification from 'react-notifications-component'\r\nimport 'react-notifications-component/dist/theme.css'\r\nimport { store } from 'react-notifications-component';\r\nimport 'animate.css'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport jsPDF from \"jspdf\";\r\nexport default function ModalForm(props) {\r\n\r\n    const useStyles = makeStyles((theme) => ({\r\n        formControl: {\r\n            margin: theme.spacing(1),\r\n            minWidth: 120,\r\n        },\r\n        selectEmpty: {\r\n            marginTop: theme.spacing(2),\r\n        },\r\n    }));\r\n\r\n    const classes = useStyles();\r\n    const [projects, setProjects] = useState([])\r\n    const [worktype, setWorktype] = useState('')\r\n    const [contractor, setContractor] = useState('')\r\n    const [description, setDescription] = useState('')\r\n    const [currentvalue, setCurrentvalue] = useState(new Date());\r\n    const id = useParams('id')['id']\r\n    const email = localStorage.getItem('email')\r\n    const project_id = useParams('project_id')['project_id']\r\n    const image = props.image\r\n    const element = props.element\r\n\r\n    console.log(element)\r\n\r\n    const generatePDF = () => {\r\n        const doc = new jsPDF();\r\n        doc.setFontSize(40);\r\n        doc.text(30, 20, 'Filtered CAD Drawing !');\r\n        doc.addImage(image, 'JPEG', 15, 40, 180, 160);\r\n        doc.output('CADImage');\r\n        doc.text(30, 220, `Worktype :  ${worktype}`);\r\n        doc.text(30, 240, `Contractor :  ${contractor}`);\r\n        doc.text(30, 260, `Description :  ${description}`);\r\n        doc.text(30, 280, `Date :  ${currentvalue}`);\r\n        doc.save(`CAD.pdf`);\r\n        \r\n    }\r\n\r\n    const fetchData = async () => {\r\n        const data = await getProjects({ id: project_id, action: \"GET_BY_ID\" })\r\n        console.log(data['result'])\r\n        setProjects([data['result']])\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (worktype === \"\" && contractor === \"\" && description === \"\") {\r\n            toast.error(\"Please fill in all fields\")\r\n        }\r\n        else {\r\n            const data = await getImage({ id: id, worktype, contractor, description, element, action: \"UPDATE_IMAGE_BY_ID\" })\r\n            if (data['result'] == \"failure\") {\r\n                toast.error('An error occurred')\r\n            }\r\n            else {\r\n                toast.success('Successfull Filtered CAD')\r\n                const notify = await getProjects({ email, notification: `Saved Marking` ,action: \"NOTIFICATION\" })\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        console.log(currentvalue)\r\n        fetchData()\r\n    }, [])\r\n    return (\r\n        <Modal size=\"xl\" show={props.open} onHide={props.handleClose} className=\"modal-container custom-map-modal\" animation={true}>\r\n            <ToastContainer />\r\n            <ModalHeader closeButton>\r\n                <Fab size={\"large\"} variant=\"extended\" color=\"primary\" onClick={generatePDF}>Generate PDF</Fab>\r\n                <ModalTitle style={{\r\n                    marginLeft: 350\r\n                }}>Add CAD</ModalTitle>\r\n            </ModalHeader>\r\n            <ModalBody style={{\r\n                height: 300\r\n            }} className=\"w-100 p-3\" >\r\n                <form onSubmit={handleSubmit} className='form' noValidate>\r\n                    <FormControl className={classes.formControl}>\r\n                        <InputLabel id=\"demo-simple-select-label\">Worktype</InputLabel>\r\n                        <Select\r\n                            labelId=\"demo-simple-select-label\"\r\n                            id=\"demo-simple-select\"\r\n                            value={worktype}\r\n                            onChange={(e) => setWorktype(e.target.value)}\r\n                        >\r\n\r\n                            {projects.map((proj) => (\r\n                                proj.worktypes.map((work) => (\r\n                                    <MenuItem value={work}>{work}</MenuItem>\r\n                                ))\r\n                            ))}\r\n                        </Select>\r\n                    </FormControl>\r\n                    <FormControl className={classes.formControl}>\r\n                        <InputLabel id=\"demo-simple-select-label\">Contractor</InputLabel>\r\n                        <Select\r\n                            labelId=\"demo-simple-select-label\"\r\n                            id=\"demo-simple-select\"\r\n                            value={contractor}\r\n                            onChange={(e) => setContractor(e.target.value)}\r\n                        >\r\n                            {projects.map((proj) => (\r\n                                proj.contractors.map((con) => (\r\n                                    <MenuItem value={con}>{con}</MenuItem>\r\n                                ))\r\n                            ))}\r\n                        </Select>\r\n                    </FormControl>\r\n                    <div style={{ marginLeft: -10 }}>\r\n                        <label className='form-label'>Description</label>\r\n                        <textarea\r\n                            className='form-input'\r\n                            rows={6}\r\n                            cols={20}\r\n                            placeholder='Enter Project Description'\r\n                            value={description}\r\n                            onChange={(e) => setDescription(e.target.value)}\r\n                        />\r\n                    </div>\r\n                    <label className='form-label'>Date</label>\r\n                    <input type=\"date\" value={currentvalue} onChange={(e) => setCurrentvalue(e.target.value)} />\r\n                </form>\r\n            </ModalBody>\r\n            <ModalFooter>\r\n                <Fab color=\"primary\" size=\"large\" variant=\"extended\" onClick={handleSubmit}>\r\n                    Save Markings\r\n                </Fab>\r\n            </ModalFooter>\r\n        </Modal>\r\n    );\r\n}\r\n\r\n","import React, { useEffect, useState } from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport Modal from 'react-bootstrap/Modal'\r\nimport ModalBody from \"react-bootstrap/ModalBody\";\r\nimport ModalHeader from \"react-bootstrap/ModalHeader\";\r\nimport ModalFooter from \"react-bootstrap/ModalFooter\";\r\nimport ModalTitle from \"react-bootstrap/ModalTitle\";\r\nimport { getProjects, getImage } from '../service'\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Calendar from 'react-calendar';\r\nimport { useParams } from 'react-router-dom'\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Fab from '@material-ui/core/Fab'\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport jsPDF from \"jspdf\";\r\nexport default function ModalFilterForm(props) {\r\n\r\n    const useStyles = makeStyles((theme) => ({\r\n        formControl: {\r\n            margin: theme.spacing(1),\r\n            minWidth: 120,\r\n        },\r\n        selectEmpty: {\r\n            marginTop: theme.spacing(2),\r\n        },\r\n    }));\r\n\r\n    const classes = useStyles();\r\n    const [projects, setProjects] = useState([])\r\n    const [worktype, setWorktype] = useState('')\r\n    const [contractor, setContractor] = useState('')\r\n\r\n    const id = useParams('id')['id']\r\n    const project_id = useParams('project_id')['project_id']\r\n    const image = props.image\r\n    const element = props.element\r\n\r\n    const email = localStorage.getItem('email')\r\n\r\n\r\n    const fetchData = async () => {\r\n        const data = await getProjects({ id: project_id, action: \"GET_BY_ID\" })\r\n        console.log(data['result'])\r\n        setProjects([data['result']])\r\n    }\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        let arr = []\r\n        const data_image = await getImage({ id: id, action: \"GET_IMAGE_BY_IDs\" })\r\n        if (contractor === \"\" && worktype == \"\") {\r\n            toast.error(\"Plesae Select a filed\")\r\n        }\r\n        else if (contractor !== \"\" && worktype !== \"\") {\r\n            for (let index = 0; index < data_image['result']['contractor'].length; index++) {\r\n                if (data_image['result']['contractor'][index] === contractor && data_image['result']['worktype'][index] === worktype) {\r\n                    const id = data_image['result']['elements'][index][0]['id']\r\n                    const x1 = data_image['result']['elements'][index][0]['x1']\r\n                    const y1 = data_image['result']['elements'][index][0]['y1']\r\n                    const x2 = data_image['result']['elements'][index][0]['x2']\r\n                    const y2 = data_image['result']['elements'][index][0]['y2']\r\n                    props.filteredCAD(id, x1, x2, y1, y2)\r\n                }\r\n\r\n            }\r\n        }\r\n        else if (contractor !== \"\") {\r\n            for (let index = 0; index < data_image['result']['contractor'].length; index++) {\r\n                if (data_image['result']['contractor'][index] === contractor) {\r\n                    const id = data_image['result']['elements'][index][0]['id']\r\n                    const x1 = data_image['result']['elements'][index][0]['x1']\r\n                    const y1 = data_image['result']['elements'][index][0]['y1']\r\n                    const x2 = data_image['result']['elements'][index][0]['x2']\r\n                    const y2 = data_image['result']['elements'][index][0]['y2']\r\n                    props.filteredCAD(id, x1, x2, y1, y2)\r\n                }\r\n\r\n            }\r\n        }\r\n        else if (worktype !== \"\") {\r\n            for (let index = 0; index < data_image['result']['worktype'].length; index++) {\r\n                if (data_image['result']['worktype'][index] === worktype) {\r\n                    const id = data_image['result']['elements'][index][0]['id']\r\n                    const x1 = data_image['result']['elements'][index][0]['x1']\r\n                    const y1 = data_image['result']['elements'][index][0]['y1']\r\n                    const x2 = data_image['result']['elements'][index][0]['x2']\r\n                    const y2 = data_image['result']['elements'][index][0]['y2']\r\n                    props.filteredCAD(id, x1, x2, y1, y2)\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n        props.passValue(worktype,contractor)\r\n        const notify = await getProjects({ email, notification: `Filtered Marking`, action: \"NOTIFICATION\" })\r\n    }\r\n\r\n    useEffect(() => {\r\n        fetchData()\r\n    }, [])\r\n    return (\r\n        <Modal size=\"xl\" show={props.open} onHide={props.handleClose} className=\"modal-container custom-map-modal\" animation={true}>\r\n            <ToastContainer />\r\n            <ModalHeader closeButton>\r\n                <ModalTitle style={{\r\n                    marginLeft: 500\r\n                }}>Filter CAD</ModalTitle>\r\n            </ModalHeader>\r\n            <ModalBody style={{\r\n                height: 300\r\n            }} className=\"w-100 p-3\" >\r\n                <form onSubmit={handleSubmit} className='form' noValidate>\r\n                    <FormControl className={classes.formControl}>\r\n                        <InputLabel id=\"demo-simple-select-label\">Worktype</InputLabel>\r\n                        <Select\r\n                            labelId=\"demo-simple-select-label\"\r\n                            id=\"demo-simple-select\"\r\n                            value={worktype}\r\n                            onChange={(e) => setWorktype(e.target.value)}\r\n                        >\r\n                            <MenuItem value={\"\"}>None</MenuItem>\r\n\r\n                            {projects.map((proj) => (\r\n                                proj.worktypes.map((work) => (\r\n                                    <MenuItem value={work}>{work}</MenuItem>\r\n                                ))\r\n                            ))}\r\n                        </Select>\r\n                    </FormControl>\r\n                    <FormControl className={classes.formControl}>\r\n                        <InputLabel id=\"demo-simple-select-label\">Contractor</InputLabel>\r\n                        <Select\r\n                            labelId=\"demo-simple-select-label\"\r\n                            id=\"demo-simple-select\"\r\n                            value={contractor}\r\n                            onChange={(e) => setContractor(e.target.value)}\r\n                        >\r\n                            <MenuItem value={\"\"}>None</MenuItem>\r\n                            {projects.map((proj) => (\r\n                                proj.contractors.map((con) => (\r\n                                    <MenuItem value={con}>{con}</MenuItem>\r\n                                ))\r\n                            ))}\r\n                        </Select>\r\n                    </FormControl>\r\n                </form>\r\n            </ModalBody>\r\n            <ModalFooter>\r\n                <Fab color=\"primary\" size=\"large\" variant=\"extended\" onClick={handleSubmit}>\r\n                    Filter Markings\r\n                </Fab>\r\n            </ModalFooter>\r\n        </Modal>\r\n    );\r\n}\r\n\r\n","import React, { useState, useEffect, useLayoutEffect, createRef } from 'react';\r\nimport { useParams } from 'react-router-dom'\r\nimport rough from 'roughjs/bundled/rough.esm'\r\nimport { useScreenshot } from 'use-react-screenshot'\r\nimport CameraAltIcon from '@material-ui/icons/CameraAlt';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport { IconButton } from '@material-ui/core';\r\nimport SettingsIcon from '@material-ui/icons/Settings';\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport ModalForm from '../components/ModalForm'\r\nimport ModalFilterForm from '../components/ModalFilterForm'\r\nimport jsPDF from \"jspdf\";\r\nimport \"jspdf-autotable\";\r\nimport { format } from \"date-fns\";\r\nimport Fab from '@material-ui/core/Fab'\r\nimport ReactNotification from 'react-notifications-component'\r\nimport 'react-notifications-component/dist/theme.css'\r\nimport { store } from 'react-notifications-component';\r\nimport 'animate.css'\r\nimport { getImage } from '../service'\r\n\r\nconst useHistory = initialState => {\r\n    const [index, setIndex] = useState(0);\r\n    const [history, setHistory] = useState([initialState]);\r\n\r\n    const setState = (action, overwrite = false) => {\r\n        const newState = typeof action === \"function\" ? action(history[index]) : action;\r\n        if (overwrite) {\r\n            const historyCopy = [...history];\r\n            historyCopy[index] = newState;\r\n            setHistory(historyCopy);\r\n        } else {\r\n            const updatedState = [...history].slice(0, index + 1);\r\n            setHistory([...updatedState, newState]);\r\n            setIndex(prevState => prevState + 1);\r\n        }\r\n    };\r\n\r\n    const undo = () => index > 0 && setIndex(prevState => prevState - 1);\r\n    const redo = () => index < history.length - 1 && setIndex(prevState => prevState + 1);\r\n\r\n    return [history[index], setState, undo, redo];\r\n};\r\n\r\nfunction Draw(props) {\r\n    const [drawing, setDrawing] = useState(\"\")\r\n    const [elements, setElements, undo, redo] = useState([]);\r\n    const [selectedElement, setSelectedElement] = useState(null)\r\n    const [open, setOpen] = useState(false)\r\n    const [img, setImg] = useState(props.location.state.detail)\r\n    const [tool, setTool] = useState('')\r\n    const [filteropen, setFilteropen] = useState(false)\r\n\r\n    const [work, setWork] = useState()\r\n    const [con, setCon] = useState()\r\n    const [visible, setVisible] = useState(false)\r\n\r\n\r\n\r\n    const ref = createRef(null)\r\n    const [screenshot, takeScreenshot] = useScreenshot()\r\n    const getImageScreen = () => takeScreenshot(ref.current)\r\n\r\n    const id = useParams('id')['id']\r\n    const project_id = useParams('project_id')['project_id']\r\n    const image = props.location.state.detail\r\n\r\n    const generator = rough.generator()\r\n\r\n    const getScreenshot = () => {\r\n        getImageScreen().then((value) => {\r\n            setImg(value)\r\n        })\r\n    }\r\n\r\n    const filterCAD = () => {\r\n        setOpen(true)\r\n        getImageScreen().then((value) => {\r\n            setImg(value)\r\n        })\r\n\r\n    }\r\n\r\n    const filterOutCAD = () => {\r\n        setFilteropen(true)\r\n        setElements([])\r\n    }\r\n\r\n    // useEffect(() => {\r\n    //     const fetchData = async () => {\r\n\r\n\r\n    //     }\r\n    //     fetchData()\r\n\r\n    // }, [])\r\n\r\n\r\n\r\n    const generatePDF = () => {\r\n        const doc = new jsPDF();\r\n        doc.setFontSize(28);\r\n        doc.text(30, 20, 'Filtered CAD Drawing !');\r\n        doc.addImage(img, 'JPEG', 15, 40, 180, 160);\r\n        doc.output('CADImage');\r\n        doc.text(30, 220, `Worktype :  ${work}`);\r\n        doc.text(30, 240, `Contractor :  ${con}`);\r\n        doc.save(`CAD.pdf`);\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n        const undoRedoFunction = event => {\r\n            if ((event.metaKey || event.ctrlKey) && event.key === \"z\") {\r\n                if (event.shiftKey) {\r\n                    redo();\r\n                } else {\r\n                    undo();\r\n                }\r\n            }\r\n        };\r\n\r\n        document.addEventListener(\"keydown\", undoRedoFunction);\r\n        return () => {\r\n            document.removeEventListener(\"keydown\", undoRedoFunction);\r\n        };\r\n    }, [undo, redo]);\r\n\r\n    useLayoutEffect(() => {\r\n        const canvas = document.getElementById('canvas')\r\n        const ctx = canvas.getContext('2d')\r\n        ctx.fillStyle = \"#FF0000\"\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height)\r\n\r\n        const roughCanvas = rough.canvas(canvas)\r\n\r\n        elements.forEach(({ roughElement }) => roughCanvas.draw(roughElement))\r\n\r\n    }, [elements])\r\n\r\n    const createElement = (id, x1, y1, x2, y2) => {\r\n        const roughElement = generator.rectangle(x1, y1, x2 - x1, y2 - y1, { roughness: 0.2, fill: 'blue' })\r\n        return { id, x1, y1, x2, y2, roughElement }\r\n    }\r\n\r\n    const updateElement = (id, x1, y1, x2, y2) => {\r\n        const updatedElement = createElement(id, x1, y1, x2, y2)\r\n        console.log(elements)\r\n        const elementsCopy = [...elements]\r\n        elementsCopy[id] = updatedElement\r\n        console.log(elementsCopy)\r\n        setElements(elementsCopy)\r\n    }\r\n\r\n    let arr = []\r\n    const filteredCAD = (id, x1, x2, y1, y2) => {\r\n        const element = createElement(id, x1, y1, x2, y2)\r\n        arr.push(element)\r\n        setElements(prevState => [...prevState, ...arr])\r\n    }\r\n\r\n    const getImages = () => {\r\n        getImageScreen().then((value) => {\r\n            setImg(value)\r\n        })\r\n    }\r\n\r\n    const nearPoint = (x, y, x1, y1, name) => {\r\n        return Math.abs(x - x1) < 5 && Math.abs(y - y1) < 5 ? name : null;\r\n    }\r\n\r\n    const resizedCoordinates = (clientX, clientY, position, coordinates) => {\r\n        const { x1, y1, x2, y2 } = coordinates;\r\n        switch (position) {\r\n            case \"tl\":\r\n            case \"start\":\r\n                return { x1: clientX, y1: clientY, x2, y2 };\r\n            case \"tr\":\r\n                return { x1, y1: clientY, x2: clientX, y2 };\r\n            case \"bl\":\r\n                return { x1: clientX, y1, x2, y2: clientY };\r\n            case \"br\":\r\n            case \"end\":\r\n                return { x1, y1, x2: clientX, y2: clientY };\r\n            default:\r\n                return null; //should not really get here...\r\n        }\r\n    };\r\n\r\n    const cursorForPosition = position => {\r\n        switch (position) {\r\n            case \"tl\":\r\n            case \"br\":\r\n            case \"start\":\r\n            case \"end\":\r\n                return \"nwse-resize\";\r\n            case \"tr\":\r\n            case \"bl\":\r\n                return \"nesw-resize\";\r\n            default:\r\n                return \"move\";\r\n        }\r\n    };\r\n\r\n    const isWithinElement = (x, y, element) => {\r\n        const { id, x1, x2, y1, y2 } = element\r\n        const topLeft = nearPoint(x, y, x1, y1, \"tl\");\r\n        const topRight = nearPoint(x, y, x2, y1, \"tr\");\r\n        const bottomLeft = nearPoint(x, y, x1, y2, \"bl\");\r\n        const bottomRight = nearPoint(x, y, x2, y2, \"br\");\r\n        const inside = x >= x1 && x <= x2 && y >= y1 && y <= y2 ? \"inside\" : null;\r\n        return topLeft || topRight || bottomLeft || bottomRight || inside;\r\n    }\r\n\r\n    const getElementAtPosition = (x, y, elements) => {\r\n        return elements\r\n            .map(element => ({ ...element, position: isWithinElement(x, y, element) }))\r\n            .find(element => element.position !== null);\r\n    }\r\n\r\n    const adjustCordinate = (element) => {\r\n        const { x1, y1, x2, y2 } = element\r\n        const minX = Math.min(x1, x2)\r\n        const maxX = Math.max(x1, x2)\r\n        const minY = Math.min(y1, y2)\r\n        const maxY = Math.max(y1, y2)\r\n\r\n        return { x1: minX, y1: minY, x2: maxX, y2: maxY }\r\n    }\r\n\r\n    const handleMouseDown = (event) => {\r\n        const { clientX, clientY } = event;\r\n        if (tool === \"selection\") {\r\n            const element = getElementAtPosition(clientX, clientY, elements);\r\n            if (element) {\r\n                const offsetX = clientX - element.x1;\r\n                const offsetY = clientY - element.y1;\r\n                setSelectedElement({ ...element, offsetX, offsetY });\r\n                setElements(prevState => prevState);\r\n\r\n                if (element.position === \"inside\") {\r\n                    setDrawing(\"moving\");\r\n                } else {\r\n                    setDrawing(\"resizing\");\r\n                }\r\n            }\r\n        } else if (tool == \"erase\") {\r\n            const element = getElementAtPosition(clientX, clientY, elements);\r\n            if (element) {\r\n                var array = [...elements]; // make a separate copy of the array\r\n                const index = array.findIndex(x => x.id === element.id)\r\n                if (index !== -1) {\r\n                    array.splice(index, 1);\r\n                    console.log(array)\r\n                    setElements([...array])\r\n                }\r\n                \r\n            }\r\n        }\r\n        else {\r\n            const id = elements.length;\r\n            const element = createElement(id, clientX, clientY, clientX, clientY);\r\n            setElements(prevState => [...prevState, element]);\r\n            setSelectedElement(element);\r\n\r\n            setDrawing(\"drawing\");\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    const handleMouseMove = (event) => {\r\n\r\n        const { clientX, clientY } = event\r\n        if (tool === \"selection\") {\r\n            setVisible(false)\r\n            const element = getElementAtPosition(clientX, clientY, elements);\r\n            event.target.style.cursor = element ? cursorForPosition(element.position) : \"default\";\r\n        }\r\n        if (drawing == \"drawing\") {\r\n            setVisible(false)\r\n            const index = elements.length - 1\r\n            const { x1, y1 } = elements[index]\r\n            updateElement(index, x1, y1, clientX, clientY)\r\n\r\n        }\r\n        else if (drawing == \"moving\") {\r\n            setVisible(false)\r\n            const { id, x1, x2, y1, y2, offsetX, offsetY } = selectedElement\r\n            const width = x2 - x1\r\n            const height = y2 - y1\r\n            const nextX = clientX - offsetX\r\n            const nextY = clientY - offsetY\r\n            updateElement(id, nextX, nextY, nextX + width, nextY + height)\r\n        }\r\n        else if (drawing === \"resizing\") {\r\n            const { id, position, ...coordinates } = selectedElement;\r\n            const { x1, y1, x2, y2 } = resizedCoordinates(clientX, clientY, position, coordinates);\r\n            updateElement(id, x1, y1, x2, y2);\r\n        }\r\n    }\r\n\r\n    const handleMouseUp = () => {\r\n        if (selectedElement) {\r\n            const index = selectedElement.id;\r\n            const { id } = elements[index];\r\n            if (drawing === \"drawing\" || drawing === \"resizing\") {\r\n                const { x1, y1, x2, y2 } = adjustCordinate(elements[index]);\r\n                updateElement(id, x1, y1, x2, y2);\r\n            }\r\n        }\r\n        setDrawing(\"none\");\r\n        setSelectedElement(null);\r\n\r\n\r\n    }\r\n\r\n    const passValue = (work, con) => {\r\n        setWork(work)\r\n        setCon(con)\r\n        setVisible(true)\r\n    }\r\n\r\n    const viewAll = async () => {\r\n        let arr = []\r\n        console.log(id)\r\n        const data_image = await getImage({ id: id, action: \"GET_IMAGE_BY_IDs\" })\r\n        if ('elements' in data_image['result']) {\r\n            for (let index = 0; index < data_image['result']['elements'].length; index++) {\r\n                const id = data_image['result']['elements'][index][0]['id']\r\n                const x1 = data_image['result']['elements'][index][0]['x1']\r\n                const y1 = data_image['result']['elements'][index][0]['y1']\r\n                const x2 = data_image['result']['elements'][index][0]['x2']\r\n                const y2 = data_image['result']['elements'][index][0]['y2']\r\n\r\n                const element = createElement(id, x1, y1, x2, y2)\r\n                console.log(element)\r\n                arr.push(element)\r\n\r\n            }\r\n            setElements(prevState => [...prevState, ...arr])\r\n        }\r\n    }\r\n\r\n    const viewLess = () => {\r\n        setElements([])\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <div style={{\r\n            width: 'fit-content',\r\n            height: 'fit-content',\r\n            display: 'inline-block'\r\n        }}>\r\n            <div ref={ref}>\r\n                <div style={{\r\n                    backgroundImage: `url(${image})`,\r\n                    backgroundRepeat: 'no-repeat',\r\n                    backgroundSize: '100% 620px',\r\n                }}  >\r\n                    <canvas id=\"canvas\" width={window.innerWidth} height={window.innerHeight}\r\n                        onMouseDown={(event) => handleMouseDown(event)}\r\n                        onMouseMove={(event) => handleMouseMove(event)}\r\n                        onMouseUp={handleMouseUp}\r\n                        onMouseLeave={handleMouseUp}\r\n                    >Canvas</canvas></div>\r\n            </div>\r\n            {visible ? <Fab size={\"large\"} variant=\"extended\" color=\"primary\" onClick={generatePDF}>Generate PDF</Fab> : null}\r\n            <Fab size={\"large\"} variant=\"extended\" color=\"primary\" style={{ marginLeft: 30 }} onClick={viewAll}>View All Markings</Fab>\r\n            <Fab size={\"large\"} variant=\"extended\" color=\"primary\" style={{ marginLeft: 30 }} onClick={viewLess}>View Blank Markings</Fab>\r\n            <div style={{\r\n                display: 'flex',\r\n                flexDirection: 'row',\r\n                marginLeft: '650px'\r\n\r\n            }}>\r\n                <h1>Edit Image</h1>\r\n                <div style={{\r\n                    marginTop: 50,\r\n                    marginLeft: -230\r\n                }}>\r\n                    <input style={{ margin: 10 }} type=\"radio\" id=\"draw\" checked={tool === \"draw\"} onChange={() => setTool(\"draw\")} />\r\n                    <label htmlFor=\"draw\">Draw </label>\r\n                    <input style={{ margin: 10 }} type=\"radio\" id=\"selection\" checked={tool === \"selection\"} onChange={() => setTool(\"selection\")} />\r\n                    <label htmlFor=\"selection\">Selection </label>\r\n                    <input style={{ margin: 10 }} type=\"radio\" id=\"erase\" checked={tool === \"erase\"} onChange={() => setTool(\"erase\")} />\r\n                    <label htmlFor=\"erase\">Erase </label>\r\n                </div>\r\n                <Fab onClick={getImages} variant={'extended'} color=\"primary\" style={{ position: 'absolute', right: '22%' }}>Take Screenshot</Fab>\r\n                <Fab onClick={filterCAD} variant={'extended'} color=\"primary\" style={{ position: 'absolute', right: '1%' }}>Add Markings</Fab>\r\n                <Fab onClick={filterOutCAD} variant={'extended'} color=\"primary\" style={{ position: 'absolute', right: '11%' }}>Filter Markings</Fab>\r\n            </div>\r\n            {open ? <ModalForm image={img} element={elements} open={() => setOpen(true)} handleClose={() => setOpen(false)} backdrop=\"static\" /> : null}\r\n            {filteropen ? <ModalFilterForm filteredCAD={filteredCAD} image={img} passValue={passValue} element={elements} open={() => setFilteropen(true)} handleClose={() => setFilteropen(false)} backdrop=\"static\" /> : null}\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Draw;","import React, { useState, useEffect } from 'react';\r\nimport '../components/Form/Form.css';\r\nimport Button from 'react-bootstrap/Button'\r\nimport { addProject } from '../service'\r\nimport {useHistory, useParams} from 'react-router-dom'\r\nimport Fab from '@material-ui/core/Fab'\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { ToastContainer, toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nfunction EditProject() {\r\n\r\n  const [name, setName] = useState('')\r\n  const [description, setDescription] = useState('')\r\n  const [currentworktypes, setCurrentworktypes] = useState('')\r\n  const [currentContractors, setCurrentContractors] = useState('')\r\n  const [currentUser, setCurrentUser] = useState('')\r\n  const [worktypes, setWorktypes] = useState([])\r\n  const [contractors, setContractors] = useState([])\r\n  const [users, setUsers] = useState([])\r\n\r\n  const history = useHistory()\r\n  const email = localStorage.getItem('email')\r\n\r\n  const id = useParams('id')['id']\r\n\r\n  useEffect(() => {\r\n    const fetchData = async() => {\r\n        const data = await addProject({id, action: \"GET_BY_ID\"})\r\n        if(data['result'] !== \"Failure\"){\r\n            console.log(data['result'])\r\n            setName(data['result']['name'])\r\n            setDescription(data['result']['description'])\r\n            setWorktypes(data['result']['worktypes'])\r\n            setContractors(data['result']['contractors'])\r\n            setUsers(data['result']['users'])\r\n        }\r\n    }\r\n    fetchData()\r\n  },[])\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    try{\r\n      if (!name.trim().length || !description.trim().length || worktypes.length === 0 || contractors.length === 0 || users.length === 0) {\r\n        toast.error('Please fill in all fields')\r\n      }\r\n      else {\r\n        const data = await addProject({ id, name, description, worktypes, contractors, users, action: \"UPDATE_PROJECT_BY_ID\" })\r\n        if (data.result === \"failure\") {\r\n          toast.error('An error occurred !')\r\n        }\r\n        else{\r\n          const notify = await addProject({ email, notification: `Project Edited : Name ${name}` ,action: \"NOTIFICATION\" })\r\n          if(notify.result === \"success\"){\r\n            history.push('/project')\r\n          }\r\n          else{\r\n            toast.error('An error occurred !')\r\n          }\r\n         \r\n        }\r\n      } \r\n    }\r\n    catch(e){\r\n      console.log(e)\r\n      \r\n    }\r\n  }\r\n\r\n  const deleteItem = (item,type) => {\r\n    if(type==\"work\"){\r\n      const index = worktypes.indexOf(item);\r\n      worktypes.splice(index, 1);\r\n      setWorktypes([...worktypes])\r\n      \r\n    }\r\n    else if(type == \"contractor\"){\r\n      const index = contractors.indexOf(item);\r\n      contractors.splice(index, 1);\r\n      setContractors([...contractors])\r\n    }\r\n    else{\r\n      const index = users.indexOf(item);\r\n      users.splice(index, 1);\r\n      setUsers([...users])\r\n    }\r\n  }\r\n\r\n  const AddWork = (currentworktypes, type) => {\r\n    if (type === \"work\") {\r\n      worktypes.push(currentworktypes)\r\n      setWorktypes([...worktypes])\r\n    }\r\n    else if (type === \"contract\") {\r\n      contractors.push(currentworktypes)\r\n      setContractors([...contractors])\r\n    }\r\n    else if (type === \"user\") {\r\n      users.push(currentworktypes)\r\n      setUsers([...users])\r\n    }\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <div className='form-content-right' style={{overflowY:'scroll', overflowX:'scroll'}}>\r\n      <ToastContainer />\r\n      <form onSubmit={handleSubmit} className='form' noValidate>\r\n        <div className='form-inputs'>\r\n          <label className='form-label'>Name</label>\r\n          <input\r\n            className='form-input'\r\n            type='text'\r\n            name='name'\r\n            placeholder='Enter Project Name'\r\n            value={name}\r\n            onChange={(e) => setName(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className='form-inputs'>\r\n          <label className='form-label'>Description</label>\r\n          <textarea\r\n            className='form-input'\r\n            rows={6}\r\n            cols={10}\r\n            placeholder='Enter Project Description'\r\n            value={description}\r\n            onChange={(e) => setDescription(e.target.value)}\r\n          />\r\n        </div>\r\n        <div className='form-inputs'>\r\n          <label className='form-label'>Worktypes</label>\r\n          <input\r\n            className='form-input'\r\n            type='text'\r\n            name='Worktypes'\r\n            placeholder='Add Project Worktypes'\r\n            value={currentworktypes}\r\n            onChange={(e) => setCurrentworktypes(e.target.value)}\r\n          />\r\n          \r\n          {worktypes.length > 0 ? worktypes.map(work => (\r\n            <Fab color={'primary'} size={'small'} variant={'extended'}>{work} <DeleteIcon onClick={() => deleteItem(work, \"work\")} /></Fab>\r\n          )) : ''}\r\n          <div style={{left: 520,\r\n            position: 'absolute',\r\n            bottom: 300}}>\r\n          <Button style={{\r\n            backgroundColor: \"thistle\",\r\n            width: 70,\r\n            height: 30,\r\n\r\n          }} variant={'primary'} onClick={() => AddWork(currentworktypes, \"work\")}> Add </Button>\r\n          </div>\r\n        </div>\r\n        <div className='form-inputs'>\r\n          <label className='form-label'>Contracters</label>\r\n          <input\r\n            className='form-input'\r\n            type='text'\r\n            name='contractors'\r\n            placeholder='Add Project Contractos'\r\n            onChange={(e) => setCurrentContractors(e.target.value)}\r\n          />\r\n          {contractors.length > 0 ? contractors.map(con => (\r\n            <Fab color={'primary'} size={'small'} variant={'extended'}>{con} <DeleteIcon onClick={() => deleteItem(con, \"contractor\")} /></Fab>\r\n          )) : ''}\r\n          <Button style={{\r\n            backgroundColor: \"thistle\",\r\n            width: 70,\r\n            height: 30,\r\n            left: 520,\r\n            position: 'absolute',\r\n            bottom: 220\r\n          }} variant={'primary'} onClick={() => AddWork(currentContractors, \"contract\")}> Add </Button>\r\n        </div>\r\n        <div className='form-inputs'>\r\n          <label className='form-label'>Users</label>\r\n          <input\r\n            className='form-input'\r\n            type='text'\r\n            name='users'\r\n            placeholder='Add Project Users'\r\n            onChange={(e) => setCurrentUser(e.target.value)}\r\n          />\r\n          {users.length > 0 ? users.map(usr => (\r\n            <Fab color={'primary'} size={'small'} variant={'extended'}>{usr} <DeleteIcon onClick={() => deleteItem(usr, \"user\")} /></Fab>\r\n          )) : ''}\r\n          <Button style={{\r\n            backgroundColor: \"thistle\",\r\n            width: 70,\r\n            height: 30,\r\n            left:520,\r\n            position: 'absolute',\r\n            bottom: 140\r\n          }} variant={'primary'} onClick={() => AddWork(currentUser, \"user\")}> Add </Button>\r\n        </div>\r\n\r\n        <button className='form-input-btn' type='submit'>\r\n          Edit Project\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditProject;\r\n\r\n","import React, { useState } from 'react';\r\nimport './Form.css';\r\nimport EditProject from '../../containers/editProject';\r\nimport FormSuccess from './FormSuccess';\r\nimport Image_1 from '../../Assets/image4.jpg'\r\nconst EditForm = () => {\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n\r\n  function submitForm() {\r\n    setIsSubmitted(true);\r\n  }\r\n  return (\r\n    <>\r\n      <div className='form-container'>\r\n        <div className='form-content-left'>\r\n          <img className='form-img' src={Image_1} alt='CAD' />\r\n        </div>\r\n        {!isSubmitted ? (\r\n          <EditProject  submitForm={submitForm} />\r\n        ) : (\r\n          <FormSuccess />\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default EditForm;\r\n","import React from 'react';\r\nimport Navbar from '../components/Navbar'\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport EditForm from '../components/Form/editForm'\r\nfunction EditHome(props) {\r\n    return (\r\n        <div>\r\n            <Navbar />\r\n            {/* <Carousel autoFocus={true} autoPlay={true} } emulateTouch={true} infiniteLoop={true} >\r\n                <div>\r\n                    <img src={Image_1} />\r\n                    <p className=\"legend\">Electrical Engineering and Electronics.</p>\r\n                </div>\r\n                <div>\r\n                    <img src={Image_2} />\r\n                    <p className=\"legend\">Engineering - Architectural.</p>\r\n                </div>\r\n                <div>\r\n                    <img src={Image_3} />\r\n                    <p className=\"legend\">Industrial Engineering.</p>\r\n                </div>\r\n                <div>\r\n                    <img src={Image_4} />\r\n                    <p className=\"legend\">Manufacturing Engineering.</p>\r\n                </div>\r\n                <div>\r\n                    <img src={Image_5} />\r\n                    <p className=\"legend\">Mechanical Engineering</p>\r\n                </div>\r\n            </Carousel> */}\r\n            <EditForm />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default EditHome;","import React from 'react';\nimport Login from './containers/login'\nimport SignUp from './containers/signup'\nimport { BrowserRouter as Router, Switch, Route} from \"react-router-dom\";\nimport Home from './containers/home'\nimport 'animate.css'\nimport './App.css'\nimport Projects from './containers/projects'\nimport Edit from './containers/edit'\nimport Feed from './containers/feed'\nimport Draw from './containers/draw'\nimport EditHome from './containers/editHome'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Switch>\n          <Route exact path=\"/\" component={Login} />\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path=\"/signup\" component={SignUp} />\n          <Route exact path=\"/home\" component={Feed} />\n          <Route exact path=\"/project\" component={Projects} />\n          <Route exact path=\"/addProjects\" component={Home} />\n          <Route exact path=\"/edit/:id\" component={Edit} />\n          <Route exact path=\"/editProject/:id\" component={EditHome} />\n          <Route exact path=\"/filterCAD/:id/:project_id\" component={Draw} />\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}