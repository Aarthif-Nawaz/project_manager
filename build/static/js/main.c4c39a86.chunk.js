(this.webpackJsonpimpact_frontend=this.webpackJsonpimpact_frontend||[]).push([[0],{148:function(e,t,n){},193:function(e,t,n){},260:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(12),i=n.n(c),s=(n(193),n(13)),o=n.n(s),l=n(21),u=n(4),j=n(317),d=n(311),b=n(305),m=n(318),f=n(310),p=n(316),h=n(306),x=n(303),O=n(103),g=n.n(O),v=n(173),y=n(300),w=n(312),k="http://35.222.122.87",C=function(e){var t={method:"POST",body:JSON.stringify(e)};return fetch(k+"/user/",t).then((function(e){return e.json()})).then((function(e){return e}))},S=function(e){var t={method:"POST",body:JSON.stringify(e)};return fetch(k+"/user/",t).then((function(e){return e.json()})).then((function(e){return e}))},N=function(e){var t={method:"POST",body:JSON.stringify(e)};return fetch(k+"/project/",t).then((function(e){return e.json()})).then((function(e){return e}))},D=function(e){var t={method:"POST",body:JSON.stringify(e)};return fetch(k+"/project/",t).then((function(e){return e.json()})).then((function(e){return e}))},I=function(e){var t={method:"POST",body:JSON.stringify(e)};return fetch(k+"/project/",t).then((function(e){return e.json()})).then((function(e){return e}))},P=n(37),A=n.n(P),E=(n(68),n(59),n(152)),T=n(29),F=n(16),_=(n(54),n(1)),z=Object(y.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://wallup.net/wp-content/uploads/2019/09/135850-3d-architecture-pc-cad.jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function W(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),i=Object(u.a)(c,2),s=i[0],O=i[1],y=Object(T.f)(),k=z(),C=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r="",e.prev=2,n.trim().length||(r+="Please enter an email "),s.trim().length||(r+="Please enter a password !"),""===r){e.next=10;break}console.log(r),F.b.error("Please fill in all fields"),e.next=14;break;case 10:return e.next=12,S({email:n,password:s});case 12:"Wrong Password"===(a=e.sent).result?F.b.error("wrong password entered"):"No such email exists"===a.result?F.b.error("No such email exists"):(localStorage.setItem("email",n),y.push("/home"));case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),console.log(e.t0),F.b.error("An error Occurred");case 20:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)(x.a,{container:!0,component:"main",className:k.root,children:[Object(_.jsx)(b.a,{}),Object(_.jsx)(F.a,{}),Object(_.jsx)(x.a,{item:!0,xs:!1,sm:4,md:7,className:k.image}),Object(_.jsx)(x.a,{item:!0,xs:12,sm:8,md:5,component:h.a,elevation:6,square:!0,children:Object(_.jsxs)("div",{className:k.paper,children:[Object(_.jsx)(j.a,{className:k.avatar,children:Object(_.jsx)(g.a,{})}),Object(_.jsx)(v.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(_.jsxs)("form",{className:k.form,noValidate:!0,onSubmit:C,children:[Object(_.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return a(e.target.value)}}),Object(_.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return O(e.target.value)}}),Object(_.jsx)(f.a,{control:Object(_.jsx)(p.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(_.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:C,className:k.submit,children:"Sign In"}),Object(_.jsx)("div",{style:{marginLeft:220},children:Object(_.jsx)(E.GoogleLogin,{clientId:"997321405617-nv43b35u845suv0epb4fkqrfu2jm86rd.apps.googleusercontent.com",buttonText:"Login With Google",onSuccess:function(e){console.log(e.profileObj.email),localStorage.setItem("email",e.profileObj.email),y.push("/home")},onFailure:function(e){console.log(e)},cookiePolicy:"single_host_origin"})}),Object(_.jsx)(x.a,{item:!0,children:Object(_.jsx)(w.a,{href:"/signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})}),Object(_.jsx)(A.a,{})]})}function L(e){return!!new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(e)}n(154);var M=Object(y.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(https://cdn.allwallpaper.in/wallpapers/1920x1200/4630/architecture-schematic-1920x1200-wallpaper.jpg)",backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function G(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),i=Object(u.a)(c,2),s=i[0],f=i[1],p=Object(r.useState)(""),O=Object(u.a)(p,2),y=O[0],w=O[1],k=Object(r.useState)(""),S=Object(u.a)(k,2),N=S[0],D=S[1],I=Object(T.f)(),P=function(){var e=Object(l.a)(o.a.mark((function e(t){var r,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r="",t.preventDefault(),e.prev=2,n.trim().length||(r+="Please enter a username ! \n"),s.trim().length||(r+="Please enter an Email ID ! \n"),y.trim().length||(r+="Please enter a password ! \n"),L(s)||(r+="Please enter a valid email ID ! \n"),y!==N&&(r+="Please enter matching passwords ! \n"),""===r){e.next=12;break}F.b.error("Please Fill In All Fields"),e.next=17;break;case 12:return e.next=14,C({name:n,email:s,password:y});case 14:a=e.sent,console.log(a),"failure"==a.result?F.b.error("Email Already Exists"):I.push("/login");case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(2),console.log(e.t0),F.b.error("An Error Occurred");case 23:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(t){return e.apply(this,arguments)}}(),A=M();return Object(_.jsxs)(x.a,{container:!0,component:"main",className:A.root,children:[Object(_.jsx)(b.a,{}),Object(_.jsx)(F.a,{}),Object(_.jsx)(x.a,{item:!0,xs:!1,sm:4,md:7,className:A.image}),Object(_.jsx)(x.a,{item:!0,xs:12,sm:8,md:5,component:h.a,elevation:6,square:!0,children:Object(_.jsxs)("div",{className:A.paper,children:[Object(_.jsx)(j.a,{className:A.avatar,children:Object(_.jsx)(g.a,{})}),Object(_.jsx)(v.a,{component:"h1",variant:"h5",children:"Sign Up"}),Object(_.jsxs)("form",{className:A.form,noValidate:!0,onSubmit:P,children:[Object(_.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"name",label:"Username",name:"name",autoComplete:"name",autoFocus:!0,onChange:function(e){return a(e.target.value)}}),Object(_.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return f(e.target.value)}}),Object(_.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return w(e.target.value)}}),Object(_.jsx)(m.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"confirm",label:"Confirm Password",type:"password",id:"confirm",autoComplete:"confirm-current-password",onChange:function(e){return D(e.target.value)}}),Object(_.jsx)(d.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",onClick:P,className:A.submit,children:"Sign Up"})]}),Object(_.jsx)(x.a,{item:!0,children:Object(_.jsx)("a",{href:"/login",variant:"body2",children:"Have an account? Login"})})]})})]})}var B,U,Y,R,J,V,q=n(33),X=n(66),H=n(170),K=n(67),$=K.a.nav(B||(B=Object(X.a)(["\n  background: #000;\n  height: 160px;\n  display: flex;\n  justify-content: space-between;\n  padding: 0.5rem calc((100vw - 1000px) / 2);\n  z-index: 10;\n  /* Third Nav */\n  /* justify-content: flex-start; */\n"]))),Q=Object(K.a)(q.b)(U||(U=Object(X.a)(["\n  color: #fff;\n  display: flex;\n  font-size: 20px;\n  align-items: center;\n  text-decoration: none;\n  padding: 0 1rem;\n  height: 100%;\n  cursor: pointer;\n  &.active {\n    color: #15cdfc;\n  }\n"]))),Z=Object(K.a)(H.a)(Y||(Y=Object(X.a)(["\n  display: none;\n  color: #fff;\n  @media screen and (max-width: 768px) {\n    display: block;\n    position: absolute;\n    top: 0;\n    right: 0;\n    transform: translate(-100%, 75%);\n    font-size: 1.8rem;\n    cursor: pointer;\n  }\n"]))),ee=K.a.div(R||(R=Object(X.a)(["\n  display: flex;\n  align-items: center;\n  margin-right: -24px;\n  /* Second Nav */\n  /* margin-right: 24px; */\n  /* Third Nav */\n  /* width: 100vw;\n  white-space: nowrap; */\n  @media screen and (max-width: 768px) {\n    display: none;\n  }\n"]))),te=K.a.nav(J||(J=Object(X.a)(["\n  display: flex;\n  align-items: center;\n  margin-right: 24px;\n  /* Third Nav */\n  /* justify-content: flex-end;\n  width: 100vw; */\n  @media screen and (max-width: 768px) {\n    display: none;\n  }\n"]))),ne=(Object(K.a)(q.b)(V||(V=Object(X.a)(["\n  border-radius: 4px;\n  background: #256ce1;\n  padding: 10px 22px;\n  color: #fff;\n  outline: none;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  text-decoration: none;\n  /* Second Nav */\n  margin-left: 24px;\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    background: #fff;\n    color: #010606;\n  }\n"]))),n(313)),re=n.p+"static/media/logo.58667de1.jpg",ae=function(){var e=Object(T.f)();return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)($,{children:[Object(_.jsx)(Q,{to:"/#",children:Object(_.jsx)("img",{src:re,width:350,height:160,style:{marginLeft:-200},alt:"logo"})}),Object(_.jsx)(Z,{}),Object(_.jsxs)(ee,{children:[Object(_.jsx)(Q,{style:{textDecoration:"none"},to:"/home",activeStyle:!0,children:"Notification & Feeds"}),Object(_.jsx)(Q,{style:{textDecoration:"none"},to:"/addProjects",activeStyle:!0,children:"Add Project"}),Object(_.jsx)(Q,{style:{textDecoration:"none"},to:"/project",activeStyle:!0,children:"View Projects"})]}),Object(_.jsx)(te,{children:Object(_.jsx)(ne.a,{color:"primary",size:"large",variant:"extended",onClick:function(){localStorage.getItem("email")&&(localStorage.removeItem("email"),e.push("/login"))},children:"Logout"})})]})})},ce=(n(147),n(93),n(9)),ie=n(58),se=n(57),oe=n.n(se);function le(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),i=Object(u.a)(c,2),s=i[0],j=i[1],d=Object(r.useState)(""),b=Object(u.a)(d,2),m=b[0],f=b[1],p=Object(r.useState)(""),h=Object(u.a)(p,2),x=h[0],O=h[1],g=Object(r.useState)(""),v=Object(u.a)(g,2),y=v[0],w=v[1],k=Object(r.useState)([]),C=Object(u.a)(k,2),S=C[0],D=C[1],I=Object(r.useState)([]),P=Object(u.a)(I,2),A=P[0],E=P[1],z=Object(r.useState)([]),W=Object(u.a)(z,2),L=W[0],M=W[1],G=Object(T.f)(),B=localStorage.getItem("email"),U=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,n.trim().length&&s.trim().length&&0!==S.length&&0!==A.length&&0!==L.length){e.next=6;break}F.b.error("Please fill in all fields"),e.next=17;break;case 6:return e.next=8,N({email:B,name:n,description:s,worktypes:S,contractors:A,users:L,action:"Add"});case 8:if("failure"!==e.sent.result){e.next=13;break}F.b.error("An error occurred !"),e.next=17;break;case 13:return e.next=15,N({email:B,notification:"Project Added : Name ".concat(n),action:"NOTIFICATION"});case 15:"success"===e.sent.result?G.push("/project"):F.b.error("An error occurred !");case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}(),Y=function(e,t){if("work"==t){var n=S.indexOf(e);S.splice(n,1),D(Object(ce.a)(S))}else if("contractor"==t){var r=A.indexOf(e);A.splice(r,1),E(Object(ce.a)(A))}else{var a=L.indexOf(e);L.splice(a,1),M(Object(ce.a)(L))}},R=function(e,t){"work"===t?(S.push(e),D(Object(ce.a)(S))):"contract"===t?(A.push(e),E(Object(ce.a)(A))):"user"===t&&(L.push(e),M(Object(ce.a)(L)))};return Object(_.jsxs)("div",{className:"form-content-right",style:{overflowY:"scroll",overflowX:"scroll"},children:[Object(_.jsx)(F.a,{}),Object(_.jsxs)("form",{onSubmit:U,className:"form",noValidate:!0,children:[Object(_.jsxs)("div",{className:"form-inputs",children:[Object(_.jsx)("label",{className:"form-label",children:"Name"}),Object(_.jsx)("input",{className:"form-input",type:"text",name:"name",placeholder:"Enter Project Name",value:n,onChange:function(e){return a(e.target.value)}})]}),Object(_.jsxs)("div",{className:"form-inputs",children:[Object(_.jsx)("label",{className:"form-label",children:"Description"}),Object(_.jsx)("textarea",{className:"form-input",rows:6,cols:10,placeholder:"Enter Project Description",value:s,onChange:function(e){return j(e.target.value)}})]}),Object(_.jsxs)("div",{className:"form-inputs",children:[Object(_.jsx)("label",{className:"form-label",children:"Worktypes"}),Object(_.jsx)("input",{className:"form-input",type:"text",name:"Worktypes",placeholder:"Add Project Worktypes",value:m,onChange:function(e){return f(e.target.value)}}),S.length>0?S.map((function(e){return Object(_.jsxs)(ne.a,{color:"primary",size:"small",variant:"extended",children:[e," ",Object(_.jsx)(oe.a,{onClick:function(){return Y(e,"work")}})]})})):"",Object(_.jsx)("div",{style:{left:520,position:"absolute",bottom:300},children:Object(_.jsx)(ie.a,{style:{backgroundColor:"thistle",width:70,height:30},variant:"primary",onClick:function(){return R(m,"work")},children:" Add "})})]}),Object(_.jsxs)("div",{className:"form-inputs",children:[Object(_.jsx)("label",{className:"form-label",children:"Contracters"}),Object(_.jsx)("input",{className:"form-input",type:"text",name:"contractors",placeholder:"Add Project Contractos",onChange:function(e){return O(e.target.value)}}),A.length>0?A.map((function(e){return Object(_.jsxs)(ne.a,{color:"primary",size:"small",variant:"extended",children:[e," ",Object(_.jsx)(oe.a,{onClick:function(){return Y(e,"contractor")}})]})})):"",Object(_.jsx)(ie.a,{style:{backgroundColor:"thistle",width:70,height:30,left:520,position:"absolute",bottom:220},variant:"primary",onClick:function(){return R(x,"contract")},children:" Add "})]}),Object(_.jsxs)("div",{className:"form-inputs",children:[Object(_.jsx)("label",{className:"form-label",children:"Users"}),Object(_.jsx)("input",{className:"form-input",type:"text",name:"users",placeholder:"Add Project Users",onChange:function(e){return w(e.target.value)}}),L.length>0?L.map((function(e){return Object(_.jsxs)(ne.a,{color:"primary",size:"small",variant:"extended",children:[e," ",Object(_.jsx)(oe.a,{onClick:function(){return Y(e,"user")}})]})})):"",Object(_.jsx)(ie.a,{style:{backgroundColor:"thistle",width:70,height:30,left:520,position:"absolute",bottom:140},variant:"primary",onClick:function(){return R(y,"user")},children:" Add "})]}),Object(_.jsx)("button",{className:"form-input-btn",type:"submit",children:"Add Project"})]})]})}var ue=function(){return Object(_.jsxs)("div",{className:"form-content-right",children:[Object(_.jsx)("h1",{className:"form-success",children:"We have received your request!"}),Object(_.jsx)("img",{className:"form-img-2",src:"img/img-3.svg",alt:"success-image"})]})},je=n.p+"static/media/image4.e506e61f.jpg",de=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"form-container",children:[Object(_.jsx)("div",{className:"form-content-left",children:Object(_.jsx)("img",{className:"form-img",src:je,alt:"CAD"})}),n?Object(_.jsx)(ue,{}):Object(_.jsx)(le,{submitForm:function(){a(!0)}})]})})};var be=function(e){return Object(_.jsxs)("div",{children:[Object(_.jsx)(ae,{}),Object(_.jsx)(de,{})]})},me=(n(148),n(77)),fe=n.n(me),pe=(n(149),n(314));var he=function(e){var t=Object(r.useState)([]),n=Object(u.a)(t,2),a=n[0],c=n[1],i=localStorage.getItem("email"),s=Object(T.f)(),j=function(){var e=Object(l.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D({id:t,action:"DELETE_PROJECT"});case 2:if("success"!==e.sent.result){e.next=11;break}return F.b.success("Successfully Deleted Project :  ".concat(t)),d(),e.next=8,D({email:i,notification:"Deleted Project : Project ".concat(n),action:"NOTIFICATION"});case 8:e.sent,e.next=12;break;case 11:F.b.error("An error occurred while deleting. Please try again ");case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,e.next=4,D({email:i,action:"GET"});case 4:if("Failure"!==(n=e.sent).result)for(r=0;r<n.result.length;r++)t.push(n.result[r]);return e.next=8,D({user:i,action:"GET_BY_USER"});case 8:if("Failure"!=(a=e.sent).result)for(s=0;s<a.result.length;s++)t.push(a.result[s]);c(t),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){d()}),[]),Object(_.jsxs)("div",{children:[Object(_.jsx)(ae,{}),Object(_.jsx)(F.a,{}),a.map((function(e,t){return Object(_.jsx)(pe.a,{style:{margin:25,width:"80%"},type:"inner",title:e.name,extra:Object(_.jsxs)("div",{children:[Object(_.jsx)("a",{style:{color:"green",marginRight:"20px",fontSize:18,fontWeight:"bold",textDecoration:"none"},href:"/editProject/".concat(e._id),children:"Edit Project "}),Object(_.jsx)("a",{style:{marginRight:"20px",fontSize:18,fontWeight:"bold",textDecoration:"none"},href:"/edit/".concat(e._id),children:"Edit"}),Object(_.jsx)("a",{style:{color:"red",marginLeft:"20px",fontSize:18,fontWeight:"bold",textDecoration:"none"},onClick:function(){return j(e._id,e.name)},children:"Delete"})]})},t)})),Object(_.jsx)(ne.a,{style:{position:"fixed",right:"2%"},onClick:function(){s.push("/addProjects")},color:"primary","aria-label":"add",children:Object(_.jsx)(fe.a,{})})]})},xe=n(168),Oe=n.n(xe),ge=(n(254),n(65));function ve(e){var t=Object(T.f)(),n=Object(r.useState)([]),a=Object(u.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(),j=Object(u.a)(s,2),d=(j[0],j[1],Object(r.useState)(!1)),b=Object(u.a)(d,2),m=b[0],f=b[1],p=Object(r.useState)(),h=Object(u.a)(p,2),x=h[0],O=h[1],g=Object(r.useState)([]),v=Object(u.a)(g,2),y=v[0],w=v[1],C=Object(r.useState)(!1),S=Object(u.a)(C,2),N=S[0],P=S[1],A=localStorage.getItem("email"),E=Object(T.g)("id").id;Object(r.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D({id:E,action:"GET_BY_ID"});case 2:return t=e.sent,console.log(t.result),i([t.result]),e.next=7,I({id:E,action:"GET_IMAGE_BY_ID"});case 7:if("Failure"!==(n=e.sent).result){for(r=0;r<n.result.length;r++)"worktype"in n.result[r]&&"contractor"in n.result[r]&&"description"in n.result[r]&&(console.log(!0),P(!0));w(n.result)}case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[y.length]);var z=function(e,n){t.push({pathname:"/filterCAD/".concat(e,"/").concat(E),state:{detail:n}})},W=function(){var e=Object(l.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(x),(n=new FormData).append("file",x,x.name),n.append("name",x.name),n.append("id",E),n.append("type",x.type),e.next=9,fetch(k+"/project/",{method:"PUT",body:n}).then((function(e){return e.json()})).then((function(e){return e}));case 9:if("success"!==e.sent.result){e.next=15;break}return F.b.success("CAD Uploaded. Please Refresh Page !"),e.next=14,D({email:A,notification:"Uploaded CAD : ".concat(x.name),action:"NOTIFICATION"});case 14:e.sent;case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)("div",{children:[Object(_.jsx)(ae,{}),Object(_.jsx)(F.a,{}),c.map((function(e){return Object(_.jsx)(pe.a,{style:{margin:20,width:"95%"},type:"inner",extra:Object(_.jsxs)("div",{children:[Object(_.jsx)(Oe.a,{accept:"application/pdf, image/*",withPreview:!0,withLabel:!0,withIcon:!0,buttonText:"Select Image",singleImage:!0,onChange:function(e){return function(e){O(e[0]),f(!0)}(e)},imgExtension:[".jpg",".gif",".png",".jiff",".dwg",".pdf"],maxFileSize:5242880}),m?Object(_.jsx)(ne.a,{style:{marginLeft:"60px"},variant:"extended",color:"primary",size:"large",onClick:W,children:"Upload"}):Object(_.jsx)(_.Fragment,{})]})},e._id)})),Object(_.jsx)("div",{style:{content:"",clear:"both",display:"table"},children:y.map((function(e,t){return Object(_.jsx)("div",{style:{marginLeft:"40px",float:"left",width:"30%",paddign:"50px",marginTop:"20px"},children:N?Object(_.jsxs)(ge.a,{className:"anime",style:{width:"400",height:"300"},children:[Object(_.jsx)(ge.a.Img,{style:{cursor:"grabbing"},onClick:function(){return z(e._id,e.image)},variant:"top",src:e.image}),Object(_.jsx)(ge.a.Body,{children:Object(_.jsx)(ne.a,{size:"medium",style:{marginLeft:120},variant:"extended",color:"primary",onClick:function(){return z(e._id,e.image)},children:" Open Drawing "})})]}):Object(_.jsx)("img",{src:e.image,style:{cursor:"grabbing"},width:"400px",height:"300px",onClick:function(){return z(e._id,e.image)}})},t)}))}),Object(_.jsx)(ne.a,{style:{position:"fixed",right:"2%"},onClick:function(){t.push("/addProjects")},color:"primary","aria-label":"add",children:Object(_.jsx)(fe.a,{})})]})}var ye=function(e){var t=Object(r.useState)([]),n=Object(u.a)(t,2),a=n[0],c=n[1],i=localStorage.getItem("email");return Object(T.f)(),Object(r.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D({email:i,action:"GET_NOTIFICATION"});case 3:"notifications"in(t=e.sent).result&&c(t.result.notifications),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[a.length]),Object(_.jsxs)("div",{children:[Object(_.jsx)(ae,{}),a.length>0?a.map((function(e){return Object(_.jsx)("div",{style:{margin:20},children:Object(_.jsx)(ge.a,{children:Object(_.jsx)(ge.a.Body,{children:e})})})})):null]})},we=n(6),ke=n(5),Ce=n(129),Se=n(169),Ne=(n(120),n(108)),De=n(85),Ie=n(89),Pe=n(87),Ae=n(86),Ee=n(309),Te=n(315),Fe=n(320),_e=n(321),ze=n(78);function We(e){var t=Object(y.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}))(),n=Object(r.useState)([]),a=Object(u.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(""),j=Object(u.a)(s,2),d=j[0],b=j[1],m=Object(r.useState)(""),f=Object(u.a)(m,2),p=f[0],h=f[1],x=Object(r.useState)(""),O=Object(u.a)(x,2),g=O[0],v=O[1],w=Object(r.useState)(new Date),k=Object(u.a)(w,2),C=k[0],S=k[1],N=Object(T.g)("id").id,P=localStorage.getItem("email"),A=Object(T.g)("project_id").project_id,E=e.image,z=e.element;console.log(z);var W=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D({id:A,action:"GET_BY_ID"});case 2:t=e.sent,console.log(t.result),i([t.result]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""!==d||""!==p||""!==g){e.next=5;break}F.b.error("Please fill in all fields"),e.next=16;break;case 5:return e.next=7,I({id:N,worktype:d,contractor:p,description:g,element:z,action:"UPDATE_IMAGE_BY_ID"});case 7:if("failure"!=e.sent.result){e.next=12;break}F.b.error("An error occurred"),e.next=16;break;case 12:return F.b.success("Successfull Filtered CAD"),e.next=15,D({email:P,notification:"Saved Marking",action:"NOTIFICATION"});case 15:e.sent;case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){console.log(C),W()}),[]),Object(_.jsxs)(Ne.a,{size:"xl",show:e.open,onHide:e.handleClose,className:"modal-container custom-map-modal",animation:!0,children:[Object(_.jsx)(F.a,{}),Object(_.jsxs)(Ie.a,{closeButton:!0,children:[Object(_.jsx)(ne.a,{size:"large",variant:"extended",color:"primary",onClick:function(){var e=new ze.default;e.setFontSize(40),e.text(30,20,"Filtered CAD Drawing !"),e.addImage(E,"JPEG",15,40,180,160),e.output("CADImage"),e.text(30,220,"Worktype :  ".concat(d)),e.text(30,240,"Contractor :  ".concat(p)),e.text(30,260,"Description :  ".concat(g)),e.text(30,280,"Date :  ".concat(C)),e.save("CAD.pdf")},children:"Generate PDF"}),Object(_.jsx)(Ae.a,{style:{marginLeft:350},children:"Add CAD"})]}),Object(_.jsx)(De.a,{style:{height:300},className:"w-100 p-3",children:Object(_.jsxs)("form",{onSubmit:L,className:"form",noValidate:!0,children:[Object(_.jsxs)(Ee.a,{className:t.formControl,children:[Object(_.jsx)(Fe.a,{id:"demo-simple-select-label",children:"Worktype"}),Object(_.jsx)(Te.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:d,onChange:function(e){return b(e.target.value)},children:c.map((function(e){return e.worktypes.map((function(e){return Object(_.jsx)(_e.a,{value:e,children:e})}))}))})]}),Object(_.jsxs)(Ee.a,{className:t.formControl,children:[Object(_.jsx)(Fe.a,{id:"demo-simple-select-label",children:"Contractor"}),Object(_.jsx)(Te.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:p,onChange:function(e){return h(e.target.value)},children:c.map((function(e){return e.contractors.map((function(e){return Object(_.jsx)(_e.a,{value:e,children:e})}))}))})]}),Object(_.jsxs)("div",{style:{marginLeft:-10},children:[Object(_.jsx)("label",{className:"form-label",children:"Description"}),Object(_.jsx)("textarea",{className:"form-input",rows:6,cols:20,placeholder:"Enter Project Description",value:g,onChange:function(e){return v(e.target.value)}})]}),Object(_.jsx)("label",{className:"form-label",children:"Date"}),Object(_.jsx)("input",{type:"date",value:C,onChange:function(e){return S(e.target.value)}})]})}),Object(_.jsx)(Pe.a,{children:Object(_.jsx)(ne.a,{color:"primary",size:"large",variant:"extended",onClick:L,children:"Save Markings"})})]})}function Le(e){var t=Object(y.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}))(),n=Object(r.useState)([]),a=Object(u.a)(n,2),c=a[0],i=a[1],s=Object(r.useState)(""),j=Object(u.a)(s,2),d=j[0],b=j[1],m=Object(r.useState)(""),f=Object(u.a)(m,2),p=f[0],h=f[1],x=Object(T.g)("id").id,O=Object(T.g)("project_id").project_id,g=(e.image,e.element,localStorage.getItem("email")),v=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D({id:O,action:"GET_BY_ID"});case 2:t=e.sent,console.log(t.result),i([t.result]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var t=Object(l.a)(o.a.mark((function t(n){var r,a,c,i,s,l,u,j,b,m,f,h,O,v,y,w,k,C,S;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),[],t.next=4,I({id:x,action:"GET_IMAGE_BY_IDs"});case 4:if(r=t.sent,""===p&&""==d)F.b.error("Plesae Select a filed");else if(""!==p&&""!==d)for(a=0;a<r.result.contractor.length;a++)r.result.contractor[a]===p&&r.result.worktype[a]===d&&(c=r.result.elements[a][0].id,i=r.result.elements[a][0].x1,s=r.result.elements[a][0].y1,l=r.result.elements[a][0].x2,u=r.result.elements[a][0].y2,e.filteredCAD(c,i,l,s,u));else if(""!==p)for(j=0;j<r.result.contractor.length;j++)r.result.contractor[j]===p&&(b=r.result.elements[j][0].id,m=r.result.elements[j][0].x1,f=r.result.elements[j][0].y1,h=r.result.elements[j][0].x2,O=r.result.elements[j][0].y2,e.filteredCAD(b,m,h,f,O));else if(""!==d)for(v=0;v<r.result.worktype.length;v++)r.result.worktype[v]===d&&(y=r.result.elements[v][0].id,w=r.result.elements[v][0].x1,k=r.result.elements[v][0].y1,C=r.result.elements[v][0].x2,S=r.result.elements[v][0].y2,e.filteredCAD(y,w,C,k,S));return e.passValue(d,p),t.next=9,D({email:g,notification:"Filtered Marking",action:"NOTIFICATION"});case 9:t.sent;case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){v()}),[]),Object(_.jsxs)(Ne.a,{size:"xl",show:e.open,onHide:e.handleClose,className:"modal-container custom-map-modal",animation:!0,children:[Object(_.jsx)(F.a,{}),Object(_.jsx)(Ie.a,{closeButton:!0,children:Object(_.jsx)(Ae.a,{style:{marginLeft:500},children:"Filter CAD"})}),Object(_.jsx)(De.a,{style:{height:300},className:"w-100 p-3",children:Object(_.jsxs)("form",{onSubmit:w,className:"form",noValidate:!0,children:[Object(_.jsxs)(Ee.a,{className:t.formControl,children:[Object(_.jsx)(Fe.a,{id:"demo-simple-select-label",children:"Worktype"}),Object(_.jsxs)(Te.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:d,onChange:function(e){return b(e.target.value)},children:[Object(_.jsx)(_e.a,{value:"",children:"None"}),c.map((function(e){return e.worktypes.map((function(e){return Object(_.jsx)(_e.a,{value:e,children:e})}))}))]})]}),Object(_.jsxs)(Ee.a,{className:t.formControl,children:[Object(_.jsx)(Fe.a,{id:"demo-simple-select-label",children:"Contractor"}),Object(_.jsxs)(Te.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:p,onChange:function(e){return h(e.target.value)},children:[Object(_.jsx)(_e.a,{value:"",children:"None"}),c.map((function(e){return e.contractors.map((function(e){return Object(_.jsx)(_e.a,{value:e,children:e})}))}))]})]})]})}),Object(_.jsx)(Pe.a,{children:Object(_.jsx)(ne.a,{color:"primary",size:"large",variant:"extended",onClick:w,children:"Filter Markings"})})]})}n(259);var Me=function(e){var t=Object(r.useState)(""),n=Object(u.a)(t,2),a=n[0],c=n[1],i=Object(r.useState)([]),s=Object(u.a)(i,4),j=s[0],d=s[1],b=s[2],m=s[3],f=Object(r.useState)(null),p=Object(u.a)(f,2),h=p[0],x=p[1],O=Object(r.useState)(!1),g=Object(u.a)(O,2),v=g[0],y=g[1],w=Object(r.useState)(e.location.state.detail),k=Object(u.a)(w,2),C=k[0],S=k[1],N=Object(r.useState)(""),D=Object(u.a)(N,2),P=D[0],A=D[1],E=Object(r.useState)(!1),F=Object(u.a)(E,2),z=F[0],W=F[1],L=Object(r.useState)(),M=Object(u.a)(L,2),G=M[0],B=M[1],U=Object(r.useState)(),Y=Object(u.a)(U,2),R=Y[0],J=Y[1],V=Object(r.useState)(!1),q=Object(u.a)(V,2),X=q[0],H=q[1],K=Object(r.createRef)(null),$=Object(Se.a)(),Q=Object(u.a)($,2),Z=(Q[0],Q[1]),ee=function(){return Z(K.current)},te=Object(T.g)("id").id,re=(Object(T.g)("project_id").project_id,e.location.state.detail),ae=Ce.a.generator();Object(r.useEffect)((function(){var e=function(e){(e.metaKey||e.ctrlKey)&&"z"===e.key&&(e.shiftKey?m():b())};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}),[b,m]),Object(r.useLayoutEffect)((function(){var e=document.getElementById("canvas"),t=e.getContext("2d");t.fillStyle="#FF0000",t.clearRect(0,0,e.width,e.height);var n=Ce.a.canvas(e);j.forEach((function(e){var t=e.roughElement;return n.draw(t)}))}),[j]);var ie=function(e,t,n,r,a){return{id:e,x1:t,y1:n,x2:r,y2:a,roughElement:ae.rectangle(t,n,r-t,a-n,{roughness:.2,fill:"blue"})}},se=function(e,t,n,r,a){var c=ie(e,t,n,r,a);console.log(j);var i=Object(ce.a)(j);i[e]=c,console.log(i),d(i)},oe=[],le=function(e,t,n,r,a){return Math.abs(e-n)<5&&Math.abs(t-r)<5?a:null},ue=function(e,t,n){n.id;var r=n.x1,a=n.x2,c=n.y1,i=n.y2,s=le(e,t,r,c,"tl"),o=le(e,t,a,c,"tr"),l=le(e,t,r,i,"bl"),u=le(e,t,a,i,"br");return s||o||l||u||(e>=r&&e<=a&&t>=c&&t<=i?"inside":null)},je=function(e,t,n){return n.map((function(n){return Object(ke.a)(Object(ke.a)({},n),{},{position:ue(e,t,n)})})).find((function(e){return null!==e.position}))},de=function(){if(h){var e=h.id,t=j[e].id;if("drawing"===a||"resizing"===a){var n=function(e){var t=e.x1,n=e.y1,r=e.x2,a=e.y2,c=Math.min(t,r),i=Math.max(t,r);return{x1:c,y1:Math.min(n,a),x2:i,y2:Math.max(n,a)}}(j[e]),r=n.x1,i=n.y1,s=n.x2,o=n.y2;se(t,r,i,s,o)}}c("none"),x(null)},be=function(){var e=Object(l.a)(o.a.mark((function e(){var t,n,r,a,c,i,s,l,u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],console.log(te),e.next=4,I({id:te,action:"GET_IMAGE_BY_IDs"});case 4:if("elements"in(n=e.sent).result){for(r=0;r<n.result.elements.length;r++)a=n.result.elements[r][0].id,c=n.result.elements[r][0].x1,i=n.result.elements[r][0].y1,s=n.result.elements[r][0].x2,l=n.result.elements[r][0].y2,u=ie(a,c,i,s,l),console.log(u),t.push(u);d((function(e){return[].concat(Object(ce.a)(e),t)}))}case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(_.jsxs)("div",{style:{width:"fit-content",height:"fit-content",display:"inline-block"},children:[Object(_.jsx)("div",{ref:K,children:Object(_.jsx)("div",{style:{backgroundImage:"url(".concat(re,")"),backgroundRepeat:"no-repeat",backgroundSize:"100% 620px"},children:Object(_.jsx)("canvas",{id:"canvas",width:window.innerWidth,height:window.innerHeight,onMouseDown:function(e){return function(e){var t=e.clientX,n=e.clientY;if("selection"===P){var r=je(t,n,j);if(r){var a=t-r.x1,i=n-r.y1;x(Object(ke.a)(Object(ke.a)({},r),{},{offsetX:a,offsetY:i})),d((function(e){return e})),"inside"===r.position?c("moving"):c("resizing")}}else if("erase"==P){var s=je(t,n,j);if(s){var o=Object(ce.a)(j),l=o.findIndex((function(e){return e.id===s.id}));-1!==l&&(o.splice(l,1),console.log(o),d(Object(ce.a)(o)))}}else{var u=j.length,b=ie(u,t,n,t,n);d((function(e){return[].concat(Object(ce.a)(e),[b])})),x(b),c("drawing")}}(e)},onMouseMove:function(e){return function(e){var t=e.clientX,n=e.clientY;if("selection"===P){H(!1);var r=je(t,n,j);e.target.style.cursor=r?function(e){switch(e){case"tl":case"br":case"start":case"end":return"nwse-resize";case"tr":case"bl":return"nesw-resize";default:return"move"}}(r.position):"default"}if("drawing"==a){H(!1);var c=j.length-1,i=j[c],s=i.x1,o=i.y1;se(c,s,o,t,n)}else if("moving"==a){H(!1);var l=h.id,u=h.x1,d=h.x2,b=h.y1,m=h.y2,f=t-h.offsetX,p=n-h.offsetY;se(l,f,p,f+(d-u),p+(m-b))}else if("resizing"===a){var x=h.id,O=function(e,t,n,r){var a=r.x1,c=r.y1,i=r.x2,s=r.y2;switch(n){case"tl":case"start":return{x1:e,y1:t,x2:i,y2:s};case"tr":return{x1:a,y1:t,x2:e,y2:s};case"bl":return{x1:e,y1:c,x2:i,y2:t};case"br":case"end":return{x1:a,y1:c,x2:e,y2:t};default:return null}}(t,n,h.position,Object(we.a)(h,["id","position"])),g=O.x1,v=O.y1,y=O.x2,w=O.y2;se(x,g,v,y,w)}}(e)},onMouseUp:de,onMouseLeave:de,children:"Canvas"})})}),X?Object(_.jsx)(ne.a,{size:"large",variant:"extended",color:"primary",onClick:function(){var e=new ze.default;e.setFontSize(28),e.text(30,20,"Filtered CAD Drawing !"),e.addImage(C,"JPEG",15,40,180,160),e.output("CADImage"),e.text(30,220,"Worktype :  ".concat(G)),e.text(30,240,"Contractor :  ".concat(R)),e.save("CAD.pdf")},children:"Generate PDF"}):null,Object(_.jsx)(ne.a,{size:"large",variant:"extended",color:"primary",style:{marginLeft:30},onClick:be,children:"View All Markings"}),Object(_.jsx)(ne.a,{size:"large",variant:"extended",color:"primary",style:{marginLeft:30},onClick:function(){d([])},children:"View Blank Markings"}),Object(_.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginLeft:"650px"},children:[Object(_.jsx)("h1",{children:"Edit Image"}),Object(_.jsxs)("div",{style:{marginTop:50,marginLeft:-230},children:[Object(_.jsx)("input",{style:{margin:10},type:"radio",id:"draw",checked:"draw"===P,onChange:function(){return A("draw")}}),Object(_.jsx)("label",{htmlFor:"draw",children:"Draw "}),Object(_.jsx)("input",{style:{margin:10},type:"radio",id:"selection",checked:"selection"===P,onChange:function(){return A("selection")}}),Object(_.jsx)("label",{htmlFor:"selection",children:"Selection "}),Object(_.jsx)("input",{style:{margin:10},type:"radio",id:"erase",checked:"erase"===P,onChange:function(){return A("erase")}}),Object(_.jsx)("label",{htmlFor:"erase",children:"Erase "})]}),Object(_.jsx)(ne.a,{onClick:function(){ee().then((function(e){S(e)}))},variant:"extended",color:"primary",style:{position:"absolute",right:"22%"},children:"Take Screenshot"}),Object(_.jsx)(ne.a,{onClick:function(){y(!0),ee().then((function(e){S(e)}))},variant:"extended",color:"primary",style:{position:"absolute",right:"1%"},children:"Add Markings"}),Object(_.jsx)(ne.a,{onClick:function(){W(!0),d([])},variant:"extended",color:"primary",style:{position:"absolute",right:"11%"},children:"Filter Markings"})]}),v?Object(_.jsx)(We,{image:C,element:j,open:function(){return y(!0)},handleClose:function(){return y(!1)},backdrop:"static"}):null,z?Object(_.jsx)(Le,{filteredCAD:function(e,t,n,r,a){var c=ie(e,t,r,n,a);oe.push(c),d((function(e){return[].concat(Object(ce.a)(e),oe)}))},image:C,passValue:function(e,t){B(e),J(t),H(!0)},element:j,open:function(){return W(!0)},handleClose:function(){return W(!1)},backdrop:"static"}):null]})};var Ge=function(){var e=Object(r.useState)(""),t=Object(u.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),i=Object(u.a)(c,2),s=i[0],j=i[1],d=Object(r.useState)(""),b=Object(u.a)(d,2),m=b[0],f=b[1],p=Object(r.useState)(""),h=Object(u.a)(p,2),x=h[0],O=h[1],g=Object(r.useState)(""),v=Object(u.a)(g,2),y=v[0],w=v[1],k=Object(r.useState)([]),C=Object(u.a)(k,2),S=C[0],D=C[1],I=Object(r.useState)([]),P=Object(u.a)(I,2),A=P[0],E=P[1],z=Object(r.useState)([]),W=Object(u.a)(z,2),L=W[0],M=W[1],G=Object(T.f)(),B=localStorage.getItem("email"),U=Object(T.g)("id").id;Object(r.useEffect)((function(){(function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N({id:U,action:"GET_BY_ID"});case 2:"Failure"!==(t=e.sent).result&&(console.log(t.result),a(t.result.name),j(t.result.description),D(t.result.worktypes),E(t.result.contractors),M(t.result.users));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var Y=function(){var e=Object(l.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,n.trim().length&&s.trim().length&&0!==S.length&&0!==A.length&&0!==L.length){e.next=6;break}F.b.error("Please fill in all fields"),e.next=17;break;case 6:return e.next=8,N({id:U,name:n,description:s,worktypes:S,contractors:A,users:L,action:"UPDATE_PROJECT_BY_ID"});case 8:if("failure"!==e.sent.result){e.next=13;break}F.b.error("An error occurred !"),e.next=17;break;case 13:return e.next=15,N({email:B,notification:"Project Edited : Name ".concat(n),action:"NOTIFICATION"});case 15:"success"===e.sent.result?G.push("/project"):F.b.error("An error occurred !");case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(t){return e.apply(this,arguments)}}(),R=function(e,t){if("work"==t){var n=S.indexOf(e);S.splice(n,1),D(Object(ce.a)(S))}else if("contractor"==t){var r=A.indexOf(e);A.splice(r,1),E(Object(ce.a)(A))}else{var a=L.indexOf(e);L.splice(a,1),M(Object(ce.a)(L))}},J=function(e,t){"work"===t?(S.push(e),D(Object(ce.a)(S))):"contract"===t?(A.push(e),E(Object(ce.a)(A))):"user"===t&&(L.push(e),M(Object(ce.a)(L)))};return Object(_.jsxs)("div",{className:"form-content-right",style:{overflowY:"scroll",overflowX:"scroll"},children:[Object(_.jsx)(F.a,{}),Object(_.jsxs)("form",{onSubmit:Y,className:"form",noValidate:!0,children:[Object(_.jsxs)("div",{className:"form-inputs",children:[Object(_.jsx)("label",{className:"form-label",children:"Name"}),Object(_.jsx)("input",{className:"form-input",type:"text",name:"name",placeholder:"Enter Project Name",value:n,onChange:function(e){return a(e.target.value)}})]}),Object(_.jsxs)("div",{className:"form-inputs",children:[Object(_.jsx)("label",{className:"form-label",children:"Description"}),Object(_.jsx)("textarea",{className:"form-input",rows:6,cols:10,placeholder:"Enter Project Description",value:s,onChange:function(e){return j(e.target.value)}})]}),Object(_.jsxs)("div",{className:"form-inputs",children:[Object(_.jsx)("label",{className:"form-label",children:"Worktypes"}),Object(_.jsx)("input",{className:"form-input",type:"text",name:"Worktypes",placeholder:"Add Project Worktypes",value:m,onChange:function(e){return f(e.target.value)}}),S.length>0?S.map((function(e){return Object(_.jsxs)(ne.a,{color:"primary",size:"small",variant:"extended",children:[e," ",Object(_.jsx)(oe.a,{onClick:function(){return R(e,"work")}})]})})):"",Object(_.jsx)("div",{style:{left:520,position:"absolute",bottom:300},children:Object(_.jsx)(ie.a,{style:{backgroundColor:"thistle",width:70,height:30},variant:"primary",onClick:function(){return J(m,"work")},children:" Add "})})]}),Object(_.jsxs)("div",{className:"form-inputs",children:[Object(_.jsx)("label",{className:"form-label",children:"Contracters"}),Object(_.jsx)("input",{className:"form-input",type:"text",name:"contractors",placeholder:"Add Project Contractos",onChange:function(e){return O(e.target.value)}}),A.length>0?A.map((function(e){return Object(_.jsxs)(ne.a,{color:"primary",size:"small",variant:"extended",children:[e," ",Object(_.jsx)(oe.a,{onClick:function(){return R(e,"contractor")}})]})})):"",Object(_.jsx)(ie.a,{style:{backgroundColor:"thistle",width:70,height:30,left:520,position:"absolute",bottom:220},variant:"primary",onClick:function(){return J(x,"contract")},children:" Add "})]}),Object(_.jsxs)("div",{className:"form-inputs",children:[Object(_.jsx)("label",{className:"form-label",children:"Users"}),Object(_.jsx)("input",{className:"form-input",type:"text",name:"users",placeholder:"Add Project Users",onChange:function(e){return w(e.target.value)}}),L.length>0?L.map((function(e){return Object(_.jsxs)(ne.a,{color:"primary",size:"small",variant:"extended",children:[e," ",Object(_.jsx)(oe.a,{onClick:function(){return R(e,"user")}})]})})):"",Object(_.jsx)(ie.a,{style:{backgroundColor:"thistle",width:70,height:30,left:520,position:"absolute",bottom:140},variant:"primary",onClick:function(){return J(y,"user")},children:" Add "})]}),Object(_.jsx)("button",{className:"form-input-btn",type:"submit",children:"Edit Project"})]})]})},Be=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"form-container",children:[Object(_.jsx)("div",{className:"form-content-left",children:Object(_.jsx)("img",{className:"form-img",src:je,alt:"CAD"})}),n?Object(_.jsx)(ue,{}):Object(_.jsx)(Ge,{submitForm:function(){a(!0)}})]})})};var Ue=function(e){return Object(_.jsxs)("div",{children:[Object(_.jsx)(ae,{}),Object(_.jsx)(Be,{})]})};var Ye=function(){return Object(_.jsx)("div",{className:"App",children:Object(_.jsx)(q.a,{children:Object(_.jsxs)(T.c,{children:[Object(_.jsx)(T.a,{exact:!0,path:"/",component:W}),Object(_.jsx)(T.a,{exact:!0,path:"/login",component:W}),Object(_.jsx)(T.a,{exact:!0,path:"/signup",component:G}),Object(_.jsx)(T.a,{exact:!0,path:"/home",component:ye}),Object(_.jsx)(T.a,{exact:!0,path:"/project",component:he}),Object(_.jsx)(T.a,{exact:!0,path:"/addProjects",component:be}),Object(_.jsx)(T.a,{exact:!0,path:"/edit/:id",component:ve}),Object(_.jsx)(T.a,{exact:!0,path:"/editProject/:id",component:Ue}),Object(_.jsx)(T.a,{exact:!0,path:"/filterCAD/:id/:project_id",component:Me})]})})})},Re=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,693)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(Ye,{})}),document.getElementById("root")),Re()},93:function(e,t,n){}},[[260,1,3]]]);
//# sourceMappingURL=main.c4c39a86.chunk.js.map